2025-01-21 00:08:21.237  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=10m31s545ms).
2025-01-21 00:26:57.389  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=18m36s154ms).
2025-01-21 00:28:41.848  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m44s459ms).
2025-01-21 00:45:32.894  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m51s47ms).
2025-01-21 00:47:17.292  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m44s397ms).
2025-01-21 01:05:24.976  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=18m7s685ms).
2025-01-21 01:07:09.332  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m44s356ms).
2025-01-21 01:23:52.893  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m43s561ms).
2025-01-21 01:25:37.253  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m44s359ms).
2025-01-21 01:43:08.065  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m30s813ms).
2025-01-21 01:44:52.410  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m44s345ms).
2025-01-21 01:46:12.658  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m20s247ms).
2025-01-21 02:00:36.194  WARN 26991 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m23s522ms).
2025-01-21 03:08:20.461  INFO 26991 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 03:08:20.478  INFO 26991 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 03:08:20.486  INFO 26991 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:08:20.488  INFO 26991 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 03:08:20.498  INFO 26991 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 03:08:23.115  INFO 38806 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 03:08:23.136  INFO 38806 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 38806 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 03:08:23.137 DEBUG 38806 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 03:08:23.137  INFO 38806 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 03:08:23.408  INFO 38806 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 03:08:23.430  INFO 38806 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interface.
2025-01-21 03:08:23.634  INFO 38806 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 03:08:23.641  INFO 38806 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 03:08:23.642  INFO 38806 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 03:08:23.642  INFO 38806 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 03:08:23.659  INFO 38806 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 03:08:23.659  INFO 38806 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 506 ms
2025-01-21 03:08:23.730  INFO 38806 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 03:08:23.753  INFO 38806 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 03:08:23.767  INFO 38806 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 03:08:23.866  INFO 38806 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 03:08:23.879  INFO 38806 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 03:08:24.052  INFO 38806 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69f3e556
2025-01-21 03:08:24.052  INFO 38806 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 03:08:24.094  INFO 38806 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 03:08:24.454  INFO 38806 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 03:08:24.495  INFO 38806 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:08:24.624  WARN 38806 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 03:08:24.806  INFO 38806 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 03:08:24.811  INFO 38806 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 03:08:24.815  INFO 38806 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.815 seconds (process running for 2.22)
2025-01-21 03:12:20.989  INFO 38806 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 03:12:20.990  INFO 38806 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 03:12:20.991  INFO 38806 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 03:12:21.084 DEBUG 38806 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Creating cart for user: 1
2025-01-21 03:12:21.084  INFO 38806 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Cart created for user: 1
2025-01-21 03:13:33.351 DEBUG 38806 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Creating cart for user: 1
2025-01-21 03:13:33.352  INFO 38806 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Cart created for user: 1
2025-01-21 03:13:50.232 DEBUG 38806 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Creating cart for user: 3
2025-01-21 03:13:50.232  INFO 38806 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Cart created for user: 3
2025-01-21 03:15:22.759  WARN 38806 --- [nio-8084-exec-9] org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.logException : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'userId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{userId}"]
2025-01-21 03:15:36.243 DEBUG 38806 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 3
2025-01-21 03:15:36.269  INFO 38806 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 3
2025-01-21 03:18:03.727  INFO 38806 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 03:18:03.732  INFO 38806 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 03:18:03.737  INFO 38806 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:18:03.739  INFO 38806 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 03:18:03.751  INFO 38806 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 03:18:05.399  INFO 39022 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 03:18:05.414  INFO 39022 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 39022 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 03:18:05.415 DEBUG 39022 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 03:18:05.416  INFO 39022 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 03:18:05.649  INFO 39022 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 03:18:05.670  INFO 39022 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interface.
2025-01-21 03:18:05.871  INFO 39022 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 03:18:05.877  INFO 39022 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 03:18:05.878  INFO 39022 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 03:18:05.878  INFO 39022 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 03:18:05.900  INFO 39022 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 03:18:05.901  INFO 39022 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 471 ms
2025-01-21 03:18:05.966  INFO 39022 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 03:18:05.987  INFO 39022 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 03:18:06.000  INFO 39022 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 03:18:06.095  INFO 39022 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 03:18:06.108  INFO 39022 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 03:18:06.252  INFO 39022 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f75fd1d
2025-01-21 03:18:06.253  INFO 39022 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 03:18:06.294  INFO 39022 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 03:18:06.646  INFO 39022 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 03:18:06.688  INFO 39022 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:18:06.818  WARN 39022 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 03:18:07.000  INFO 39022 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 03:18:07.005  INFO 39022 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 03:18:07.010  INFO 39022 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.714 seconds (process running for 2.068)
2025-01-21 03:20:22.420  INFO 39022 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 03:20:22.421  INFO 39022 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 03:20:22.422  INFO 39022 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 03:20:22.480 DEBUG 39022 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 3, product: 7634, price: 12.74, quantity: 4
2025-01-21 03:20:22.480 DEBUG 39022 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 3
2025-01-21 03:20:22.548  INFO 39022 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 3, product: 7634
2025-01-21 03:20:22.567 ERROR 39022 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet].log : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'me.sridharpatil.ecom.cartservice.models.CartItem' (save the transient instance before flushing)] with root cause

org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'me.sridharpatil.ecom.cartservice.models.CartItem' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:604) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:534) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:495) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:82) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.1.jar:3.4.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.1.jar:6.2.1]
	at jdk.proxy2/jdk.proxy2.$Proxy137.save(Unknown Source) ~[?:?]
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart(CartServiceImpl.java:73) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.controllers.CartController.addItemToCart(CartController.java:40) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]

2025-01-21 03:23:38.332  INFO 39022 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 03:23:38.337  INFO 39022 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 03:23:38.340  INFO 39022 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:23:38.342  INFO 39022 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 03:23:38.358  INFO 39022 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 03:23:40.139  INFO 39166 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 03:23:40.155  INFO 39166 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 39166 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 03:23:40.156 DEBUG 39166 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 03:23:40.156  INFO 39166 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 03:23:40.386  INFO 39166 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 03:23:40.407  INFO 39166 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2025-01-21 03:23:40.605  INFO 39166 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 03:23:40.611  INFO 39166 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 03:23:40.612  INFO 39166 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 03:23:40.612  INFO 39166 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 03:23:40.629  INFO 39166 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 03:23:40.629  INFO 39166 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 459 ms
2025-01-21 03:23:40.695  INFO 39166 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 03:23:40.716  INFO 39166 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 03:23:40.727  INFO 39166 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 03:23:40.820  INFO 39166 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 03:23:40.833  INFO 39166 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 03:23:40.979  INFO 39166 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2047adea
2025-01-21 03:23:40.979  INFO 39166 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 03:23:41.019  INFO 39166 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 03:23:41.373  INFO 39166 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 03:23:41.412  INFO 39166 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:23:41.582  WARN 39166 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 03:23:41.723  INFO 39166 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 03:23:41.728  INFO 39166 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 03:23:41.732  INFO 39166 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.693 seconds (process running for 2.047)
2025-01-21 03:24:17.235  INFO 39166 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 03:24:17.236  INFO 39166 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 03:24:17.237  INFO 39166 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 03:24:17.295 DEBUG 39166 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 3, product: 7634, price: 12.74, quantity: 4
2025-01-21 03:24:17.343 DEBUG 39166 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 3
2025-01-21 03:24:17.394  INFO 39166 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 3, product: 7634
2025-01-21 03:24:58.786 DEBUG 39166 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 3
2025-01-21 03:24:58.797  INFO 39166 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 3
2025-01-21 03:26:43.258  INFO 39166 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 03:26:43.262  INFO 39166 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 03:26:43.271  INFO 39166 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:26:43.273  INFO 39166 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 03:26:43.293  INFO 39166 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 03:26:45.094  INFO 39260 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 03:26:45.110  INFO 39260 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 39260 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 03:26:45.111 DEBUG 39260 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 03:26:45.112  INFO 39260 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 03:26:45.338  INFO 39260 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 03:26:45.360  INFO 39260 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 03:26:45.556  INFO 39260 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 03:26:45.562  INFO 39260 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 03:26:45.563  INFO 39260 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 03:26:45.563  INFO 39260 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 03:26:45.580  INFO 39260 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 03:26:45.581  INFO 39260 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 455 ms
2025-01-21 03:26:45.652  INFO 39260 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 03:26:45.673  INFO 39260 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 03:26:45.685  INFO 39260 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 03:26:45.777  INFO 39260 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 03:26:45.790  INFO 39260 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 03:26:45.939  INFO 39260 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1926f962
2025-01-21 03:26:45.939  INFO 39260 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 03:26:45.979  INFO 39260 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 03:26:46.327  INFO 39260 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 03:26:46.370  INFO 39260 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:26:46.546  WARN 39260 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 03:26:46.690  INFO 39260 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 03:26:46.698  INFO 39260 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 03:26:46.702  INFO 39260 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.708 seconds (process running for 2.06)
2025-01-21 03:26:56.014  INFO 39260 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 03:26:56.014  INFO 39260 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 03:26:56.015  INFO 39260 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 03:26:56.039 DEBUG 39260 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 3
2025-01-21 03:26:56.105  INFO 39260 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 3
2025-01-21 03:28:08.150  INFO 39260 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 03:28:08.158  INFO 39260 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 03:28:08.164  INFO 39260 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:28:08.166  INFO 39260 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 03:28:08.184  INFO 39260 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 03:28:09.944  INFO 39293 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 03:28:09.960  INFO 39293 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 39293 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 03:28:09.961 DEBUG 39293 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 03:28:09.961  INFO 39293 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 03:28:10.186  INFO 39293 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 03:28:10.208  INFO 39293 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 03:28:10.403  INFO 39293 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 03:28:10.409  INFO 39293 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 03:28:10.410  INFO 39293 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 03:28:10.410  INFO 39293 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 03:28:10.428  INFO 39293 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 03:28:10.428  INFO 39293 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 454 ms
2025-01-21 03:28:10.493  INFO 39293 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 03:28:10.515  INFO 39293 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 03:28:10.526  INFO 39293 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 03:28:10.619  INFO 39293 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 03:28:10.634  INFO 39293 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 03:28:10.782  INFO 39293 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5fe3b058
2025-01-21 03:28:10.783  INFO 39293 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 03:28:10.821  INFO 39293 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 03:28:11.170  INFO 39293 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 03:28:11.206  INFO 39293 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:28:11.380  WARN 39293 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 03:28:11.525  INFO 39293 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 03:28:11.530  INFO 39293 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 03:28:11.535  INFO 39293 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.692 seconds (process running for 2.049)
2025-01-21 03:30:56.348  INFO 39293 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 03:30:56.349  INFO 39293 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 03:30:56.353  INFO 39293 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 4 ms
2025-01-21 03:30:56.379 DEBUG 39293 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 3
2025-01-21 03:30:56.442 ERROR 39293 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet].log : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Cart not found for user: 3] with root cause

java.lang.RuntimeException: Cart not found for user: 3
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart(CartServiceImpl.java:53) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.controllers.CartController.getCart(CartController.java:33) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]

2025-01-21 03:31:10.013 DEBUG 39293 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Creating cart for user: 4
2025-01-21 03:31:10.014  INFO 39293 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Cart created for user: 4
2025-01-21 03:31:19.179 DEBUG 39293 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 03:31:19.198  INFO 39293 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 03:31:27.253 DEBUG 39293 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 7634, price: 12.74, quantity: 4
2025-01-21 03:31:27.264 DEBUG 39293 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 03:31:27.266  INFO 39293 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 7634
2025-01-21 03:31:44.752 DEBUG 39293 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9823, price: 12.74, quantity: 4
2025-01-21 03:31:44.765 DEBUG 39293 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 03:31:44.771  INFO 39293 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9823
2025-01-21 03:31:58.739 DEBUG 39293 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 03:31:58.746  INFO 39293 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 03:33:37.889  INFO 39293 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 03:33:37.892  INFO 39293 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 03:33:37.897  INFO 39293 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:33:37.900  INFO 39293 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 03:33:37.908  INFO 39293 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 03:33:39.657  INFO 39430 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 03:33:39.673  INFO 39430 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 39430 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 03:33:39.674 DEBUG 39430 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 03:33:39.675  INFO 39430 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 03:33:39.904  INFO 39430 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 03:33:39.925  INFO 39430 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 16 ms. Found 2 JPA repository interfaces.
2025-01-21 03:33:40.118  INFO 39430 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 03:33:40.124  INFO 39430 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 03:33:40.125  INFO 39430 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 03:33:40.125  INFO 39430 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 03:33:40.142  INFO 39430 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 03:33:40.143  INFO 39430 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 455 ms
2025-01-21 03:33:40.208  INFO 39430 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 03:33:40.228  INFO 39430 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 03:33:40.240  INFO 39430 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 03:33:40.332  INFO 39430 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 03:33:40.344  INFO 39430 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 03:33:40.493  INFO 39430 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@83e635f
2025-01-21 03:33:40.494  INFO 39430 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 03:33:40.530  INFO 39430 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 03:33:40.873  INFO 39430 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 03:33:40.908  INFO 39430 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:33:41.083  WARN 39430 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 03:33:41.226  INFO 39430 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 03:33:41.231  INFO 39430 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 03:33:41.235  INFO 39430 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.682 seconds (process running for 2.034)
2025-01-21 03:34:21.457  INFO 39430 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 03:34:21.461  INFO 39430 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 03:34:21.470  INFO 39430 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:34:21.475  INFO 39430 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 03:34:21.484  INFO 39430 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 03:34:23.129  INFO 39462 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 03:34:23.146  INFO 39462 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 39462 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 03:34:23.147 DEBUG 39462 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 03:34:23.147  INFO 39462 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 03:34:23.388  INFO 39462 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 03:34:23.409  INFO 39462 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2025-01-21 03:34:23.617  INFO 39462 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 03:34:23.623  INFO 39462 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 03:34:23.624  INFO 39462 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 03:34:23.624  INFO 39462 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 03:34:23.643  INFO 39462 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 03:34:23.644  INFO 39462 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 481 ms
2025-01-21 03:34:23.713  INFO 39462 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 03:34:23.735  INFO 39462 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 03:34:23.747  INFO 39462 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 03:34:23.844  INFO 39462 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 03:34:23.857  INFO 39462 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 03:34:24.003  INFO 39462 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3f80d8c
2025-01-21 03:34:24.003  INFO 39462 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 03:34:24.040  INFO 39462 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 03:34:24.384  INFO 39462 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 03:34:24.419  INFO 39462 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:34:24.593  WARN 39462 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 03:34:24.735  INFO 39462 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 03:34:24.740  INFO 39462 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 03:34:24.744  INFO 39462 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.746 seconds (process running for 2.111)
2025-01-21 03:36:11.763  INFO 39462 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 03:36:11.763  INFO 39462 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 03:36:11.764  INFO 39462 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 03:36:11.815 DEBUG 39462 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Updating item quantity for user: 4, item: 2, quantity: 5
2025-01-21 03:36:11.879 DEBUG 39462 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Searching for item in cart for user: 4, item: 2
2025-01-21 03:36:11.885 DEBUG 39462 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Update item quantity for user: 4, item: 2, quantity: 5
2025-01-21 03:36:11.917  INFO 39462 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Item quantity updated for user: 4, item: 2
2025-01-21 03:36:34.256 DEBUG 39462 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 03:36:34.266  INFO 39462 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 03:37:49.562 DEBUG 39462 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Updating item quantity for user: 4, item: 2, quantity: 2
2025-01-21 03:37:49.572 DEBUG 39462 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Searching for item in cart for user: 4, item: 2
2025-01-21 03:37:49.576 DEBUG 39462 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Update item quantity for user: 4, item: 2, quantity: 2
2025-01-21 03:37:49.596  INFO 39462 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Item quantity updated for user: 4, item: 2
2025-01-21 03:37:56.487 DEBUG 39462 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 03:37:56.492  INFO 39462 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 03:39:53.375 DEBUG 39462 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 03:39:53.390 DEBUG 39462 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 03:39:53.400  INFO 39462 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 03:39:53.434  INFO 39462 --- [io-8084-exec-10] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 03:39:53.456  INFO 39462 --- [io-8084-exec-10] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 03:39:53.467  INFO 39462 --- [io-8084-exec-10] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 03:39:53.491  INFO 39462 --- [io-8084-exec-10] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 03:39:53.491  INFO 39462 --- [io-8084-exec-10] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 03:39:53.491  INFO 39462 --- [io-8084-exec-10] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737410993490
2025-01-21 03:39:53.675  WARN 39462 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.handleSuccessfulResponse : [Producer clientId=cartservice-producer-1] Error while fetching metadata with correlation id 1 : {cart-service.checkout=UNKNOWN_TOPIC_OR_PARTITION}
2025-01-21 03:39:53.676  INFO 39462 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 03:39:53.787  INFO 39462 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3000 with epoch 0
2025-01-21 03:39:53.799 DEBUG 39462 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 03:39:53.799 DEBUG 39462 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 03:39:53.802  INFO 39462 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 03:39:53.810 DEBUG 39462 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 03:40:59.854 DEBUG 39462 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 03:40:59.865  INFO 39462 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 03:41:06.850 DEBUG 39462 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 03:41:06.857 DEBUG 39462 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 03:41:06.873  INFO 39462 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 03:41:06.874 DEBUG 39462 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 03:41:06.874 DEBUG 39462 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 03:41:06.880  INFO 39462 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 03:41:06.883 DEBUG 39462 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 03:41:14.612 DEBUG 39462 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Updating item quantity for user: 4, item: 2, quantity: 2
2025-01-21 03:41:14.621 DEBUG 39462 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Searching for item in cart for user: 4, item: 2
2025-01-21 03:41:14.634 ERROR 39462 --- [nio-8084-exec-5] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet].log : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Item not found in cart] with root cause

java.lang.RuntimeException: Item not found in cart
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.lambda$updateItemQuantity$1(CartServiceImpl.java:105) ~[classes/:?]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[?:?]
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity(CartServiceImpl.java:105) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.controllers.CartController.updateItemQuantity(CartController.java:52) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]

2025-01-21 03:48:09.860  INFO 39462 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 03:48:09.866  INFO 39462 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 03:48:09.871  INFO 39462 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 03:48:09.880  INFO 39462 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 03:48:09.881  INFO 39462 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 03:48:09.881  INFO 39462 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 03:48:09.881  INFO 39462 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 03:48:09.881  INFO 39462 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 03:48:09.882  INFO 39462 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:48:09.884  INFO 39462 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 03:48:09.893  INFO 39462 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 03:48:11.672  INFO 39764 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 03:48:11.689  INFO 39764 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 39764 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 03:48:11.690 DEBUG 39764 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 03:48:11.690  INFO 39764 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 03:48:11.925  INFO 39764 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 03:48:11.947  INFO 39764 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 03:48:12.151  INFO 39764 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 03:48:12.157  INFO 39764 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 03:48:12.158  INFO 39764 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 03:48:12.158  INFO 39764 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 03:48:12.176  INFO 39764 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 03:48:12.177  INFO 39764 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 472 ms
2025-01-21 03:48:12.246  INFO 39764 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 03:48:12.267  INFO 39764 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 03:48:12.279  INFO 39764 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 03:48:12.371  INFO 39764 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 03:48:12.385  INFO 39764 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 03:48:12.528  INFO 39764 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5fe3b058
2025-01-21 03:48:12.529  INFO 39764 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 03:48:12.566  INFO 39764 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 03:48:12.914  INFO 39764 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 03:48:12.952  INFO 39764 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 03:48:13.124  WARN 39764 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 03:48:13.269  INFO 39764 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 03:48:13.274  INFO 39764 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 03:48:13.278  INFO 39764 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.713 seconds (process running for 2.066)
2025-01-21 03:48:19.621  INFO 39764 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 03:48:19.621  INFO 39764 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 03:48:19.622  INFO 39764 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 03:48:19.645 DEBUG 39764 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 03:48:19.713  INFO 39764 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 03:48:24.952 DEBUG 39764 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9823, price: 12.74, quantity: 4
2025-01-21 03:48:24.986 DEBUG 39764 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 03:48:24.988  INFO 39764 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9823
2025-01-21 03:48:28.263 DEBUG 39764 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 03:48:28.271  INFO 39764 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 03:48:43.388 DEBUG 39764 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 03:48:43.397 DEBUG 39764 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 03:48:43.407  INFO 39764 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 03:48:43.440  INFO 39764 --- [nio-8084-exec-5] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 03:48:43.464  INFO 39764 --- [nio-8084-exec-5] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 03:48:43.475  INFO 39764 --- [nio-8084-exec-5] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 03:48:43.499  INFO 39764 --- [nio-8084-exec-5] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 03:48:43.499  INFO 39764 --- [nio-8084-exec-5] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 03:48:43.499  INFO 39764 --- [nio-8084-exec-5] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737411523498
2025-01-21 03:48:43.648  INFO 39764 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 03:48:43.648  INFO 39764 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3001 with epoch 0
2025-01-21 03:48:43.655 DEBUG 39764 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 03:48:43.655 DEBUG 39764 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 03:48:43.657  INFO 39764 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 03:48:43.667 ERROR 39764 --- [nio-8084-exec-5] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet].log : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'me.sridharpatil.ecom.cartservice.models.CartItem' (save the transient instance before flushing)] with root cause

org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'me.sridharpatil.ecom.cartservice.models.CartItem' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:604) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:534) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:495) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:82) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.1.jar:3.4.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.1.jar:6.2.1]
	at jdk.proxy2/jdk.proxy2.$Proxy139.deleteAll(Unknown Source) ~[?:?]
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart(CartServiceImpl.java:158) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout(CartServiceImpl.java:142) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.controllers.CartController.checkout(CartController.java:63) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]

2025-01-21 03:57:43.678  INFO 39764 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.handleDisconnections : [Producer clientId=cartservice-producer-1] Node -1 disconnected.
2025-01-21 03:59:23.437 DEBUG 39764 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 03:59:23.461  INFO 39764 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:02:34.459  INFO 39764 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:02:34.463  INFO 39764 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:02:34.467  INFO 39764 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:02:34.472  INFO 39764 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:02:34.472  INFO 39764 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:02:34.473  INFO 39764 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:02:34.473  INFO 39764 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:02:34.474  INFO 39764 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:02:34.477  INFO 39764 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:02:34.481  INFO 39764 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:02:34.490  INFO 39764 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:02:36.289  INFO 40090 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:02:36.307  INFO 40090 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40090 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:02:36.308 DEBUG 40090 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:02:36.308  INFO 40090 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:02:36.542  INFO 40090 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:02:36.568  INFO 40090 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 22 ms. Found 2 JPA repository interfaces.
2025-01-21 04:02:36.768  INFO 40090 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:02:36.774  INFO 40090 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:02:36.774  INFO 40090 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:02:36.775  INFO 40090 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:02:36.798  INFO 40090 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:02:36.799  INFO 40090 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 475 ms
2025-01-21 04:02:36.869  INFO 40090 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:02:36.889  INFO 40090 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:02:36.901  INFO 40090 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:02:36.995  INFO 40090 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:02:37.009  INFO 40090 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:02:37.157  INFO 40090 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2110684a
2025-01-21 04:02:37.157  INFO 40090 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:02:37.196  INFO 40090 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:02:37.549  INFO 40090 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:02:37.590  INFO 40090 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:02:37.758  WARN 40090 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:02:37.901  INFO 40090 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:02:37.906  INFO 40090 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:02:37.910  INFO 40090 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.726 seconds (process running for 2.084)
2025-01-21 04:02:41.501  INFO 40090 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:02:41.501  INFO 40090 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:02:41.502  INFO 40090 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:02:41.525 DEBUG 40090 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:02:41.587  INFO 40090 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:02:51.213 DEBUG 40090 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:02:51.219 DEBUG 40090 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:02:51.274  INFO 40090 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:02:51.297  INFO 40090 --- [nio-8084-exec-3] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:02:51.321  INFO 40090 --- [nio-8084-exec-3] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:02:51.330  INFO 40090 --- [nio-8084-exec-3] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:02:51.350  INFO 40090 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:02:51.350  INFO 40090 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:02:51.350  INFO 40090 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737412371349
2025-01-21 04:02:51.490  INFO 40090 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:02:51.490  INFO 40090 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3002 with epoch 0
2025-01-21 04:02:51.497 DEBUG 40090 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:02:51.497 DEBUG 40090 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:02:51.500  INFO 40090 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:02:51.509 ERROR 40090 --- [nio-8084-exec-3] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet].log : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'me.sridharpatil.ecom.cartservice.models.CartItem' (save the transient instance before flushing)] with root cause

org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'me.sridharpatil.ecom.cartservice.models.CartItem' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:604) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:534) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:495) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:82) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.1.jar:3.4.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.1.jar:6.2.1]
	at jdk.proxy2/jdk.proxy2.$Proxy139.deleteAll(Unknown Source) ~[?:?]
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart(CartServiceImpl.java:158) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout(CartServiceImpl.java:142) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.controllers.CartController.checkout(CartController.java:63) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]

2025-01-21 04:11:51.523  INFO 40090 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.handleDisconnections : [Producer clientId=cartservice-producer-1] Node -1 disconnected.
2025-01-21 04:14:41.876  INFO 40090 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:14:41.894  INFO 40090 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:14:41.896  INFO 40090 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:14:41.900  INFO 40090 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:14:41.900  INFO 40090 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:14:41.900  INFO 40090 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:14:41.900  INFO 40090 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:14:41.901  INFO 40090 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:14:41.907  INFO 40090 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:14:41.912  INFO 40090 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:14:41.927  INFO 40090 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:14:43.694  INFO 40368 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:14:43.711  INFO 40368 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40368 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:14:43.712 DEBUG 40368 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:14:43.713  INFO 40368 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:14:43.947  INFO 40368 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:14:43.968  INFO 40368 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2025-01-21 04:14:44.169  INFO 40368 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:14:44.175  INFO 40368 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:14:44.175  INFO 40368 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:14:44.176  INFO 40368 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:14:44.193  INFO 40368 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:14:44.193  INFO 40368 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 466 ms
2025-01-21 04:14:44.258  INFO 40368 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:14:44.280  INFO 40368 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:14:44.292  INFO 40368 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:14:44.390  INFO 40368 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:14:44.403  INFO 40368 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:14:44.553  INFO 40368 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5b6cc344
2025-01-21 04:14:44.554  INFO 40368 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:14:44.594  INFO 40368 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:14:44.946  INFO 40368 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:14:44.990  INFO 40368 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:14:45.175  WARN 40368 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:14:45.322  INFO 40368 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:14:45.332  INFO 40368 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:14:45.337  INFO 40368 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.745 seconds (process running for 2.102)
2025-01-21 04:15:01.266  INFO 40368 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:15:01.266  INFO 40368 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:15:01.267  INFO 40368 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:15:01.290 DEBUG 40368 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:15:01.362  INFO 40368 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:15:11.277 DEBUG 40368 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:15:11.287 DEBUG 40368 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:15:11.330  INFO 40368 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:15:11.354  INFO 40368 --- [nio-8084-exec-3] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:15:11.377  INFO 40368 --- [nio-8084-exec-3] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:15:11.386  INFO 40368 --- [nio-8084-exec-3] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:15:11.406  INFO 40368 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:15:11.406  INFO 40368 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:15:11.406  INFO 40368 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737413111405
2025-01-21 04:15:11.550  INFO 40368 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:15:11.550  INFO 40368 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3003 with epoch 0
2025-01-21 04:15:11.557 DEBUG 40368 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:15:11.557 DEBUG 40368 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:15:11.560  INFO 40368 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:15:11.571 ERROR 40368 --- [nio-8084-exec-3] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet].log : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'me.sridharpatil.ecom.cartservice.models.CartItem' (save the transient instance before flushing)] with root cause

org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'me.sridharpatil.ecom.cartservice.models.CartItem' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:604) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:534) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:495) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:82) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.1.jar:3.4.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.1.jar:6.2.1]
	at jdk.proxy2/jdk.proxy2.$Proxy139.deleteAll(Unknown Source) ~[?:?]
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart(CartServiceImpl.java:159) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout(CartServiceImpl.java:143) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.controllers.CartController.checkout(CartController.java:63) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]

2025-01-21 04:18:03.130  INFO 40368 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:18:03.133  INFO 40368 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:18:03.134  INFO 40368 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:18:03.138  INFO 40368 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:18:03.138  INFO 40368 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:18:03.138  INFO 40368 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:18:03.138  INFO 40368 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:18:03.139  INFO 40368 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:18:03.140  INFO 40368 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:18:03.141  INFO 40368 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:18:03.150  INFO 40368 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:18:04.775  INFO 40461 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:18:04.791  INFO 40461 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40461 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:18:04.792 DEBUG 40461 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:18:04.793  INFO 40461 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:18:05.018  INFO 40461 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:18:05.038  INFO 40461 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2025-01-21 04:18:05.231  INFO 40461 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:18:05.237  INFO 40461 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:18:05.238  INFO 40461 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:18:05.238  INFO 40461 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:18:05.262  INFO 40461 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:18:05.263  INFO 40461 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 456 ms
2025-01-21 04:18:05.327  INFO 40461 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:18:05.347  INFO 40461 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:18:05.359  INFO 40461 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:18:05.450  INFO 40461 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:18:05.463  INFO 40461 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:18:05.605  INFO 40461 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@65b73689
2025-01-21 04:18:05.606  INFO 40461 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:18:05.642  INFO 40461 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:18:05.989  INFO 40461 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:18:06.021  INFO 40461 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:18:06.192  WARN 40461 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:18:06.334  INFO 40461 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:18:06.339  INFO 40461 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:18:06.343  INFO 40461 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.669 seconds (process running for 2.018)
2025-01-21 04:18:24.282  INFO 40461 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:18:24.284  INFO 40461 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:18:24.290  INFO 40461 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:18:24.292  INFO 40461 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:18:24.313  INFO 40461 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:18:26.050  INFO 40491 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:18:26.067  INFO 40491 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40491 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:18:26.068 DEBUG 40491 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:18:26.068  INFO 40491 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:18:26.299  INFO 40491 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:18:26.321  INFO 40491 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 04:18:26.525  INFO 40491 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:18:26.531  INFO 40491 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:18:26.532  INFO 40491 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:18:26.532  INFO 40491 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:18:26.550  INFO 40491 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:18:26.550  INFO 40491 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 468 ms
2025-01-21 04:18:26.616  INFO 40491 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:18:26.636  INFO 40491 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:18:26.647  INFO 40491 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:18:26.739  INFO 40491 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:18:26.751  INFO 40491 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:18:26.900  INFO 40491 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5af40e45
2025-01-21 04:18:26.900  INFO 40491 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:18:26.939  INFO 40491 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:18:27.280  INFO 40491 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:18:27.317  INFO 40491 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:18:27.494  WARN 40491 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:18:27.654  INFO 40491 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:18:27.661  INFO 40491 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:18:27.666  INFO 40491 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.715 seconds (process running for 2.065)
2025-01-21 04:18:39.927  INFO 40491 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:18:39.927  INFO 40491 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:18:39.928  INFO 40491 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:18:39.955 DEBUG 40491 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:18:40.024  INFO 40491 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:18:47.559 DEBUG 40491 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:18:47.570 DEBUG 40491 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:18:47.607  INFO 40491 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:18:47.633  INFO 40491 --- [nio-8084-exec-3] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:18:47.657  INFO 40491 --- [nio-8084-exec-3] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:18:47.666  INFO 40491 --- [nio-8084-exec-3] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:18:47.685  INFO 40491 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:18:47.685  INFO 40491 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:18:47.685  INFO 40491 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737413327684
2025-01-21 04:18:47.830  INFO 40491 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:18:47.831  INFO 40491 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3004 with epoch 0
2025-01-21 04:18:47.837 DEBUG 40491 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:18:47.837 DEBUG 40491 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:18:47.839  INFO 40491 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:18:47.854 DEBUG 40491 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:19:32.340  INFO 40491 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:19:32.344  INFO 40491 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:19:32.349  INFO 40491 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:19:32.355  INFO 40491 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:19:32.355  INFO 40491 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:19:32.355  INFO 40491 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:19:32.356  INFO 40491 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:19:32.357  INFO 40491 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:19:32.359  INFO 40491 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:19:32.360  INFO 40491 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:19:32.374  INFO 40491 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:19:34.113  INFO 40536 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:19:34.129  INFO 40536 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40536 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:19:34.130 DEBUG 40536 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:19:34.131  INFO 40536 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:19:34.364  INFO 40536 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:19:34.387  INFO 40536 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 04:19:34.627  INFO 40536 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:19:34.633  INFO 40536 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:19:34.633  INFO 40536 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:19:34.633  INFO 40536 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:19:34.652  INFO 40536 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:19:34.652  INFO 40536 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 508 ms
2025-01-21 04:19:34.743  INFO 40536 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:19:34.765  INFO 40536 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:19:34.778  INFO 40536 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:19:34.876  INFO 40536 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:19:34.889  INFO 40536 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:19:35.038  INFO 40536 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2047adea
2025-01-21 04:19:35.038  INFO 40536 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:19:35.078  INFO 40536 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:19:35.423  INFO 40536 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:19:35.462  INFO 40536 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:19:35.630  WARN 40536 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:19:35.774  INFO 40536 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:19:35.779  INFO 40536 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:19:35.783  INFO 40536 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.77 seconds (process running for 2.118)
2025-01-21 04:19:38.424  INFO 40536 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:19:38.424  INFO 40536 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:19:38.426  INFO 40536 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:19:38.449 DEBUG 40536 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:19:38.514  INFO 40536 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:19:47.319 DEBUG 40536 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9823, price: 12.74, quantity: 10
2025-01-21 04:19:47.356 DEBUG 40536 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:19:47.359  INFO 40536 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9823
2025-01-21 04:19:58.824 DEBUG 40536 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:19:58.831  INFO 40536 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:20:04.028 DEBUG 40536 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:20:04.035 DEBUG 40536 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:20:04.045  INFO 40536 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:20:04.082  INFO 40536 --- [nio-8084-exec-5] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:20:04.105  INFO 40536 --- [nio-8084-exec-5] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:20:04.115  INFO 40536 --- [nio-8084-exec-5] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:20:04.138  INFO 40536 --- [nio-8084-exec-5] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:20:04.139  INFO 40536 --- [nio-8084-exec-5] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:20:04.139  INFO 40536 --- [nio-8084-exec-5] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737413404137
2025-01-21 04:20:04.280  INFO 40536 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:20:04.280  INFO 40536 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3005 with epoch 0
2025-01-21 04:20:04.286 DEBUG 40536 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:20:04.287 DEBUG 40536 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:20:04.289  INFO 40536 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:20:04.300 DEBUG 40536 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:21:30.491  INFO 40536 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:21:30.496  INFO 40536 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:21:30.498  INFO 40536 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:21:30.502  INFO 40536 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:21:30.502  INFO 40536 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:21:30.502  INFO 40536 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:21:30.502  INFO 40536 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:21:30.503  INFO 40536 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:21:30.507  INFO 40536 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:21:30.510  INFO 40536 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:21:30.534  INFO 40536 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:21:32.300  INFO 40592 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:21:32.317  INFO 40592 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40592 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:21:32.319 DEBUG 40592 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:21:32.319  INFO 40592 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:21:32.552  INFO 40592 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:21:32.573  INFO 40592 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2025-01-21 04:21:32.768  INFO 40592 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:21:32.774  INFO 40592 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:21:32.774  INFO 40592 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:21:32.775  INFO 40592 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:21:32.792  INFO 40592 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:21:32.793  INFO 40592 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 458 ms
2025-01-21 04:21:32.857  INFO 40592 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:21:32.879  INFO 40592 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:21:32.890  INFO 40592 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:21:32.982  INFO 40592 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:21:32.994  INFO 40592 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:21:33.144  INFO 40592 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5c60c08
2025-01-21 04:21:33.145  INFO 40592 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:21:33.183  INFO 40592 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:21:33.529  INFO 40592 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:21:33.567  INFO 40592 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:21:33.739  WARN 40592 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:21:33.881  INFO 40592 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:21:33.886  INFO 40592 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:21:33.891  INFO 40592 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.692 seconds (process running for 2.049)
2025-01-21 04:22:38.903  INFO 40592 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:22:38.904  INFO 40592 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:22:38.905  INFO 40592 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:22:38.926 DEBUG 40592 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:22:38.998  INFO 40592 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:22:41.967 DEBUG 40592 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9823, price: 12.74, quantity: 10
2025-01-21 04:22:42.004 DEBUG 40592 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:22:42.007  INFO 40592 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9823
2025-01-21 04:22:44.388 DEBUG 40592 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:22:44.396  INFO 40592 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:22:48.282 DEBUG 40592 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:22:48.289 DEBUG 40592 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:22:48.297  INFO 40592 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:22:48.332  INFO 40592 --- [nio-8084-exec-5] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:22:48.355  INFO 40592 --- [nio-8084-exec-5] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:22:48.365  INFO 40592 --- [nio-8084-exec-5] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:22:48.388  INFO 40592 --- [nio-8084-exec-5] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:22:48.388  INFO 40592 --- [nio-8084-exec-5] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:22:48.388  INFO 40592 --- [nio-8084-exec-5] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737413568387
2025-01-21 04:22:48.522  INFO 40592 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:22:48.522  INFO 40592 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3006 with epoch 0
2025-01-21 04:22:48.528 DEBUG 40592 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:22:48.529 DEBUG 40592 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:22:48.531  INFO 40592 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:22:48.544 DEBUG 40592 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:23:18.546 DEBUG 40592 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:23:18.554  INFO 40592 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:23:21.924 DEBUG 40592 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9823, price: 12.74, quantity: 10
2025-01-21 04:23:21.940 DEBUG 40592 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:23:21.945  INFO 40592 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9823
2025-01-21 04:23:45.782 DEBUG 40592 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9834, price: 12.74, quantity: 3
2025-01-21 04:23:45.796 DEBUG 40592 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:23:45.801  INFO 40592 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9834
2025-01-21 04:24:12.532 DEBUG 40592 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:24:12.539  INFO 40592 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:24:57.368 DEBUG 40592 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:24:57.377  INFO 40592 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:25:04.763 DEBUG 40592 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:25:04.770 DEBUG 40592 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:25:04.776  INFO 40592 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:25:04.777 DEBUG 40592 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:25:04.778 DEBUG 40592 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:25:04.781  INFO 40592 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:25:04.789 DEBUG 40592 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:25:42.849  INFO 40592 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:25:42.852  INFO 40592 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:25:42.854  INFO 40592 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:25:42.857  INFO 40592 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:25:42.857  INFO 40592 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:25:42.857  INFO 40592 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:25:42.857  INFO 40592 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:25:42.858  INFO 40592 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:25:42.860  INFO 40592 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:25:42.861  INFO 40592 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:25:42.887  INFO 40592 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:25:44.172  INFO 40683 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:25:44.190  INFO 40683 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40683 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:25:44.192 DEBUG 40683 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:25:44.192  INFO 40683 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:25:44.445  INFO 40683 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:25:44.469  INFO 40683 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 20 ms. Found 2 JPA repository interfaces.
2025-01-21 04:25:44.697  INFO 40683 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:25:44.707  INFO 40683 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:25:44.709  INFO 40683 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:25:44.709  INFO 40683 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:25:44.728  INFO 40683 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:25:44.729  INFO 40683 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 522 ms
2025-01-21 04:25:44.794  INFO 40683 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:25:44.816  INFO 40683 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:25:44.828  INFO 40683 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:25:44.926  INFO 40683 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:25:44.942  INFO 40683 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:25:45.101  INFO 40683 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7598d675
2025-01-21 04:25:45.102  INFO 40683 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:25:45.142  INFO 40683 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:25:45.522  INFO 40683 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:25:45.565  INFO 40683 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:25:45.753  WARN 40683 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:25:45.902  INFO 40683 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:25:45.908  INFO 40683 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:25:45.912  INFO 40683 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.852 seconds (process running for 2.35)
2025-01-21 04:25:51.435  INFO 40683 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:25:51.436  INFO 40683 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:25:51.437  INFO 40683 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:25:51.460 DEBUG 40683 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:25:51.533  INFO 40683 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:25:56.554 DEBUG 40683 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9834, price: 12.74, quantity: 3
2025-01-21 04:25:56.591 DEBUG 40683 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:25:56.593  INFO 40683 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9834
2025-01-21 04:26:04.095 DEBUG 40683 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 1290, price: 12.74, quantity: 3
2025-01-21 04:26:04.107 DEBUG 40683 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:26:04.111  INFO 40683 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 1290
2025-01-21 04:26:08.023 DEBUG 40683 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:26:08.036  INFO 40683 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:26:18.555 DEBUG 40683 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:26:18.563 DEBUG 40683 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:26:18.572  INFO 40683 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:26:18.608  INFO 40683 --- [nio-8084-exec-6] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:26:18.632  INFO 40683 --- [nio-8084-exec-6] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:26:18.642  INFO 40683 --- [nio-8084-exec-6] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:26:18.665  INFO 40683 --- [nio-8084-exec-6] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:26:18.665  INFO 40683 --- [nio-8084-exec-6] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:26:18.665  INFO 40683 --- [nio-8084-exec-6] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737413778664
2025-01-21 04:26:18.816  INFO 40683 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:26:18.817  INFO 40683 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3007 with epoch 0
2025-01-21 04:26:18.823 DEBUG 40683 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:26:18.823 DEBUG 40683 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:26:18.826  INFO 40683 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:26:18.839 DEBUG 40683 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:26:36.201  INFO 40683 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:26:36.204  INFO 40683 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:26:36.205  INFO 40683 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:26:36.210  INFO 40683 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:26:36.210  INFO 40683 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:26:36.210  INFO 40683 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:26:36.210  INFO 40683 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:26:36.210  INFO 40683 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:26:36.212  INFO 40683 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:26:36.213  INFO 40683 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:26:36.223  INFO 40683 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:26:37.536  INFO 40708 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:26:37.554  INFO 40708 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40708 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:26:37.555 DEBUG 40708 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:26:37.556  INFO 40708 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:26:37.813  INFO 40708 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:26:37.835  INFO 40708 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 04:26:38.056  INFO 40708 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:26:38.067  INFO 40708 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:26:38.068  INFO 40708 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:26:38.068  INFO 40708 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:26:38.087  INFO 40708 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:26:38.087  INFO 40708 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 515 ms
2025-01-21 04:26:38.150  INFO 40708 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:26:38.172  INFO 40708 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:26:38.185  INFO 40708 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:26:38.282  INFO 40708 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:26:38.298  INFO 40708 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:26:38.455  INFO 40708 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4946485c
2025-01-21 04:26:38.455  INFO 40708 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:26:38.494  INFO 40708 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:26:38.889  INFO 40708 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:26:38.930  INFO 40708 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:26:39.126  WARN 40708 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:26:39.279  INFO 40708 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:26:39.285  INFO 40708 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:26:39.290  INFO 40708 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.863 seconds (process running for 2.367)
2025-01-21 04:26:56.761  INFO 40708 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:26:56.762  INFO 40708 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:26:56.763  INFO 40708 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:26:56.787 DEBUG 40708 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:26:56.862  INFO 40708 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:26:59.615 DEBUG 40708 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 1290, price: 12.74, quantity: 3
2025-01-21 04:26:59.654 DEBUG 40708 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:26:59.657  INFO 40708 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 1290
2025-01-21 04:27:08.442 DEBUG 40708 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9734, price: 12.74, quantity: 3
2025-01-21 04:27:08.458 DEBUG 40708 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:27:08.463  INFO 40708 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9734
2025-01-21 04:27:11.964 DEBUG 40708 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:27:11.970  INFO 40708 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:27:31.594 DEBUG 40708 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:27:31.602 DEBUG 40708 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:27:31.611  INFO 40708 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:27:31.646  INFO 40708 --- [nio-8084-exec-6] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:27:31.670  INFO 40708 --- [nio-8084-exec-6] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:27:31.680  INFO 40708 --- [nio-8084-exec-6] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:27:31.703  INFO 40708 --- [nio-8084-exec-6] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:27:31.703  INFO 40708 --- [nio-8084-exec-6] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:27:31.704  INFO 40708 --- [nio-8084-exec-6] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737413851702
2025-01-21 04:27:31.859  INFO 40708 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:27:31.860  INFO 40708 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3008 with epoch 0
2025-01-21 04:27:31.867 DEBUG 40708 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:27:31.867 DEBUG 40708 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:27:31.869  INFO 40708 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:28:56.712  WARN 40708 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m48s152ms).
2025-01-21 04:28:56.716  INFO 40708 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.handleTimedOutRequests : [Producer clientId=cartservice-producer-1] Disconnecting from node 1 due to request timeout.
2025-01-21 04:28:56.719  INFO 40708 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.cancelInFlightRequests : [Producer clientId=cartservice-producer-1] Cancelled in-flight PRODUCE request with correlation id 5 due to node 1 being disconnected (elapsed time since creation: 84845ms, elapsed time since send: 84845ms, throttle time: 0ms, request timeout: 30000ms)
2025-01-21 04:28:56.720  WARN 40708 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.Sender.completeBatch : [Producer clientId=cartservice-producer-1] Got error produce response with correlation id 5 on topic-partition cart-service.checkout-0, retrying (2147483646 attempts left). Error: REQUEST_TIMED_OUT. Error Message: Disconnected from node 1 due to timeout
2025-01-21 04:28:56.726 DEBUG 40708 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:28:56.758  INFO 40708 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:28:56.763  INFO 40708 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:28:56.767  INFO 40708 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:28:56.843  INFO 40708 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:28:56.843  INFO 40708 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:28:56.843  INFO 40708 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:28:56.843  INFO 40708 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:28:56.843  INFO 40708 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:28:56.845  INFO 40708 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:28:56.847  INFO 40708 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:28:56.863  INFO 40708 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:28:58.200  INFO 40766 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:28:58.217  INFO 40766 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40766 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:28:58.218 DEBUG 40766 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:28:58.218  INFO 40766 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:28:58.467  INFO 40766 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:28:58.490  INFO 40766 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 04:28:58.698  INFO 40766 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:28:58.704  INFO 40766 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:28:58.705  INFO 40766 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:28:58.705  INFO 40766 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:28:58.727  INFO 40766 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:28:58.728  INFO 40766 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 494 ms
2025-01-21 04:28:58.794  INFO 40766 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:28:58.815  INFO 40766 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:28:58.827  INFO 40766 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:28:58.922  INFO 40766 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:28:58.935  INFO 40766 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:28:59.092  INFO 40766 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2a99fa07
2025-01-21 04:28:59.093  INFO 40766 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:28:59.132  INFO 40766 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:28:59.520  INFO 40766 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:28:59.559  INFO 40766 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:28:59.743  WARN 40766 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:28:59.895  INFO 40766 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:28:59.904  INFO 40766 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:28:59.909  INFO 40766 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.814 seconds (process running for 2.32)
2025-01-21 04:29:04.797  INFO 40766 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:29:04.797  INFO 40766 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:29:04.798  INFO 40766 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:29:04.854 DEBUG 40766 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9734, price: 12.74, quantity: 3
2025-01-21 04:29:04.893 DEBUG 40766 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:29:04.947  INFO 40766 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9734
2025-01-21 04:29:09.720 DEBUG 40766 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 67575, price: 12.74, quantity: 3
2025-01-21 04:29:09.733 DEBUG 40766 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:29:09.739  INFO 40766 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 67575
2025-01-21 04:29:11.717 DEBUG 40766 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:29:11.724  INFO 40766 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:29:20.737 DEBUG 40766 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:29:20.749 DEBUG 40766 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:29:20.756  INFO 40766 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:29:20.789  INFO 40766 --- [nio-8084-exec-5] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:29:20.810  INFO 40766 --- [nio-8084-exec-5] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:29:20.819  INFO 40766 --- [nio-8084-exec-5] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:29:20.841  INFO 40766 --- [nio-8084-exec-5] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:29:20.841  INFO 40766 --- [nio-8084-exec-5] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:29:20.841  INFO 40766 --- [nio-8084-exec-5] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737413960840
2025-01-21 04:29:20.986  INFO 40766 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:29:20.986  INFO 40766 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3009 with epoch 0
2025-01-21 04:29:20.993 DEBUG 40766 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:29:20.993 DEBUG 40766 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:29:32.852  INFO 40766 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:30:08.176  INFO 40766 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.handleTimedOutRequests : [Producer clientId=cartservice-producer-1] Disconnecting from node 1 due to request timeout.
2025-01-21 04:30:08.178  INFO 40766 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.cancelInFlightRequests : [Producer clientId=cartservice-producer-1] Cancelled in-flight PRODUCE request with correlation id 5 due to node 1 being disconnected (elapsed time since creation: 35324ms, elapsed time since send: 35324ms, throttle time: 0ms, request timeout: 30000ms)
2025-01-21 04:30:08.180  WARN 40766 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.Sender.completeBatch : [Producer clientId=cartservice-producer-1] Got error produce response with correlation id 5 on topic-partition cart-service.checkout-0, retrying (2147483646 attempts left). Error: REQUEST_TIMED_OUT. Error Message: Disconnected from node 1 due to timeout
2025-01-21 04:31:08.731  WARN 40766 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m568ms).
2025-01-21 04:31:11.868 DEBUG 40766 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:33:03.926  INFO 40766 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:33:03.936  INFO 40766 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:33:03.942  INFO 40766 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:33:03.955  INFO 40766 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:33:03.955  INFO 40766 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:33:03.957  INFO 40766 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:33:03.957  INFO 40766 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:33:03.957  INFO 40766 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:33:03.959  INFO 40766 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:33:03.962  INFO 40766 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:33:03.973  INFO 40766 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:33:05.897  INFO 40862 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:33:05.914  INFO 40862 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40862 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:33:05.916 DEBUG 40862 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:33:05.916  INFO 40862 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:33:06.165  INFO 40862 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:33:06.188  INFO 40862 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 04:33:06.408  INFO 40862 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:33:06.413  INFO 40862 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:33:06.414  INFO 40862 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:33:06.414  INFO 40862 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:33:06.437  INFO 40862 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:33:06.437  INFO 40862 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 506 ms
2025-01-21 04:33:06.504  INFO 40862 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:33:06.526  INFO 40862 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:33:06.538  INFO 40862 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:33:06.637  INFO 40862 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:33:06.651  INFO 40862 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:33:06.879  INFO 40862 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2a99fa07
2025-01-21 04:33:06.880  INFO 40862 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:33:06.926  INFO 40862 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:33:07.303  INFO 40862 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:33:07.346  INFO 40862 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:33:07.531  WARN 40862 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:33:07.683  INFO 40862 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:33:07.689  INFO 40862 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:33:07.693  INFO 40862 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.906 seconds (process running for 2.322)
2025-01-21 04:33:09.571  INFO 40862 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:33:09.571  INFO 40862 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:33:09.572  INFO 40862 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:33:09.595 DEBUG 40862 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:33:09.661  INFO 40862 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:33:12.856 DEBUG 40862 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 67575, price: 12.74, quantity: 3
2025-01-21 04:33:12.898 DEBUG 40862 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:33:12.901  INFO 40862 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 67575
2025-01-21 04:33:17.837 DEBUG 40862 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9734, price: 12.74, quantity: 3
2025-01-21 04:33:17.851 DEBUG 40862 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:33:17.857  INFO 40862 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9734
2025-01-21 04:33:21.560 DEBUG 40862 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:33:21.568  INFO 40862 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:33:42.519 DEBUG 40862 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:33:42.527 DEBUG 40862 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:33:42.534  INFO 40862 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:33:42.569  INFO 40862 --- [nio-8084-exec-6] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:33:42.591  INFO 40862 --- [nio-8084-exec-6] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:33:42.601  INFO 40862 --- [nio-8084-exec-6] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:33:42.628  INFO 40862 --- [nio-8084-exec-6] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:33:42.628  INFO 40862 --- [nio-8084-exec-6] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:33:42.628  INFO 40862 --- [nio-8084-exec-6] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737414222627
2025-01-21 04:33:42.775  INFO 40862 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:33:42.775  INFO 40862 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3010 with epoch 0
2025-01-21 04:33:42.782 DEBUG 40862 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:33:42.782 DEBUG 40862 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:33:46.843  INFO 40862 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:34:19.137 DEBUG 40862 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:36:03.361  INFO 40862 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:36:03.367  INFO 40862 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:36:03.396  INFO 40862 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:36:03.415  INFO 40862 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:36:03.416  INFO 40862 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:36:03.416  INFO 40862 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:36:03.416  INFO 40862 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:36:03.417  INFO 40862 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:36:03.419  INFO 40862 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:36:03.421  INFO 40862 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:36:03.435  INFO 40862 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:36:05.206  INFO 40941 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:36:05.223  INFO 40941 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40941 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:36:05.224 DEBUG 40941 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:36:05.225  INFO 40941 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:36:05.465  INFO 40941 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:36:05.488  INFO 40941 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 04:36:05.701  INFO 40941 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:36:05.707  INFO 40941 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:36:05.708  INFO 40941 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:36:05.708  INFO 40941 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:36:05.730  INFO 40941 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:36:05.731  INFO 40941 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 492 ms
2025-01-21 04:36:05.798  INFO 40941 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:36:05.819  INFO 40941 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:36:05.833  INFO 40941 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:36:05.932  INFO 40941 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:36:05.946  INFO 40941 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:36:06.105  INFO 40941 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c788d08
2025-01-21 04:36:06.106  INFO 40941 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:36:06.144  INFO 40941 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:36:06.512  INFO 40941 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:36:06.549  INFO 40941 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:36:06.723  WARN 40941 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:36:06.879  INFO 40941 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:36:06.884  INFO 40941 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:36:06.889  INFO 40941 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.786 seconds (process running for 2.189)
2025-01-21 04:36:11.303  INFO 40941 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:36:11.303  INFO 40941 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:36:11.304  INFO 40941 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:36:11.326 DEBUG 40941 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:36:11.391  INFO 40941 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:36:16.855 DEBUG 40941 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:36:16.861 DEBUG 40941 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:36:16.915  INFO 40941 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:36:16.935  INFO 40941 --- [nio-8084-exec-3] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:36:16.959  INFO 40941 --- [nio-8084-exec-3] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:36:16.967  INFO 40941 --- [nio-8084-exec-3] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:36:16.985  INFO 40941 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:36:16.985  INFO 40941 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:36:16.985  INFO 40941 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737414376984
2025-01-21 04:36:17.130  INFO 40941 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:36:17.131  INFO 40941 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3011 with epoch 0
2025-01-21 04:36:17.137 DEBUG 40941 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:36:17.172 DEBUG 40941 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:36:17.174  INFO 40941 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:36:17.175 DEBUG 40941 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:37:03.153  INFO 40941 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:37:03.158  INFO 40941 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:37:03.161  INFO 40941 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:37:03.164  INFO 40941 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:37:03.164  INFO 40941 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:37:03.164  INFO 40941 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:37:03.164  INFO 40941 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:37:03.164  INFO 40941 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:37:03.165  INFO 40941 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:37:03.167  INFO 40941 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:37:03.187  INFO 40941 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:37:04.985  INFO 40968 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:37:05.004  INFO 40968 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40968 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:37:05.006 DEBUG 40968 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:37:05.006  INFO 40968 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:37:05.250  INFO 40968 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:37:05.273  INFO 40968 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 04:37:05.483  INFO 40968 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:37:05.489  INFO 40968 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:37:05.490  INFO 40968 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:37:05.490  INFO 40968 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:37:05.511  INFO 40968 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:37:05.512  INFO 40968 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 490 ms
2025-01-21 04:37:05.577  INFO 40968 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:37:05.600  INFO 40968 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:37:05.612  INFO 40968 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:37:05.707  INFO 40968 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:37:05.720  INFO 40968 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:37:05.877  INFO 40968 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@684b26b7
2025-01-21 04:37:05.878  INFO 40968 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:37:05.916  INFO 40968 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:37:06.288  INFO 40968 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:37:06.328  INFO 40968 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:37:06.511  WARN 40968 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:37:06.667  INFO 40968 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:37:06.672  INFO 40968 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:37:06.677  INFO 40968 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.799 seconds (process running for 2.205)
2025-01-21 04:37:11.171  INFO 40968 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:37:11.171  INFO 40968 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:37:11.172  INFO 40968 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:37:11.194 DEBUG 40968 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:37:11.260 DEBUG 40968 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:37:11.278  INFO 40968 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:37:11.314  INFO 40968 --- [nio-8084-exec-2] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:37:11.331  INFO 40968 --- [nio-8084-exec-2] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:37:11.337  INFO 40968 --- [nio-8084-exec-2] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:37:11.359  INFO 40968 --- [nio-8084-exec-2] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:37:11.359  INFO 40968 --- [nio-8084-exec-2] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:37:11.359  INFO 40968 --- [nio-8084-exec-2] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737414431358
2025-01-21 04:37:11.501  INFO 40968 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:37:11.501  INFO 40968 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3012 with epoch 0
2025-01-21 04:37:11.508 DEBUG 40968 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:37:54.789  INFO 40968 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:37:54.797  INFO 40968 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:37:54.801  INFO 40968 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:37:54.812  INFO 40968 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:37:54.812  INFO 40968 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:37:54.812  INFO 40968 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:37:54.812  INFO 40968 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:37:54.813  INFO 40968 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:37:54.816  INFO 40968 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:37:54.824  INFO 40968 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:37:54.833  INFO 40968 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:37:56.657  INFO 40992 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:37:56.675  INFO 40992 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40992 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:37:56.676 DEBUG 40992 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:37:56.677  INFO 40992 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:37:56.927  INFO 40992 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:37:56.949  INFO 40992 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 04:37:57.165  INFO 40992 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:37:57.170  INFO 40992 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:37:57.171  INFO 40992 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:37:57.171  INFO 40992 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:37:57.193  INFO 40992 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:37:57.194  INFO 40992 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 501 ms
2025-01-21 04:37:57.259  INFO 40992 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:37:57.281  INFO 40992 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:37:57.293  INFO 40992 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:37:57.393  INFO 40992 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:37:57.407  INFO 40992 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:37:57.567  INFO 40992 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@fd69983
2025-01-21 04:37:57.567  INFO 40992 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:37:57.606  INFO 40992 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:37:57.986  INFO 40992 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:37:58.030  INFO 40992 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:37:58.221  WARN 40992 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:37:58.369  INFO 40992 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:37:58.375  INFO 40992 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:37:58.380  INFO 40992 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.834 seconds (process running for 2.24)
2025-01-21 04:37:59.744  INFO 40992 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:37:59.747  INFO 40992 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:37:59.753  INFO 40992 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:37:59.755  INFO 40992 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:37:59.772  INFO 40992 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:38:00.972  INFO 40996 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:38:00.989  INFO 40996 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 40996 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:38:00.991 DEBUG 40996 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:38:00.991  INFO 40996 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:38:01.240  INFO 40996 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:38:01.274  INFO 40996 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2025-01-21 04:38:01.503  INFO 40996 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:38:01.508  INFO 40996 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:38:01.509  INFO 40996 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:38:01.509  INFO 40996 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:38:01.531  INFO 40996 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:38:01.532  INFO 40996 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 525 ms
2025-01-21 04:38:01.600  INFO 40996 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:38:01.620  INFO 40996 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:38:01.632  INFO 40996 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:38:01.729  INFO 40996 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:38:01.742  INFO 40996 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:38:01.900  INFO 40996 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@684b26b7
2025-01-21 04:38:01.900  INFO 40996 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:38:01.935  INFO 40996 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:38:02.307  INFO 40996 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:38:02.346  INFO 40996 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:38:02.539  WARN 40996 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:38:02.771  INFO 40996 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:38:02.777  INFO 40996 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:38:02.782  INFO 40996 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.919 seconds (process running for 2.338)
2025-01-21 04:38:05.100  INFO 40996 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:38:05.101  INFO 40996 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:38:05.102  INFO 40996 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:38:05.125 DEBUG 40996 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:38:05.192  INFO 40996 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:38:09.514 DEBUG 40996 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9734, price: 12.74, quantity: 3
2025-01-21 04:38:09.548 DEBUG 40996 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:38:09.552  INFO 40996 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 9734
2025-01-21 04:38:13.117 DEBUG 40996 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 237, price: 12.74, quantity: 3
2025-01-21 04:38:13.130 DEBUG 40996 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:38:13.134  INFO 40996 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 237
2025-01-21 04:38:15.688 DEBUG 40996 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:38:15.695  INFO 40996 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:38:21.250 DEBUG 40996 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:38:21.257 DEBUG 40996 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:38:21.267  INFO 40996 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:38:21.307  INFO 40996 --- [nio-8084-exec-6] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:38:21.328  INFO 40996 --- [nio-8084-exec-6] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:38:21.337  INFO 40996 --- [nio-8084-exec-6] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:38:21.357  INFO 40996 --- [nio-8084-exec-6] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:38:21.357  INFO 40996 --- [nio-8084-exec-6] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:38:21.357  INFO 40996 --- [nio-8084-exec-6] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737414501356
2025-01-21 04:38:21.506  INFO 40996 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:38:21.506  INFO 40996 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3013 with epoch 0
2025-01-21 04:38:21.513 DEBUG 40996 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:38:21.514 DEBUG 40996 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:38:27.000  INFO 40996 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:38:59.454  WARN 40996 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=57s452ms).
2025-01-21 04:38:59.469  INFO 40996 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.handleTimedOutRequests : [Producer clientId=cartservice-producer-1] Disconnecting from node 1 due to request timeout.
2025-01-21 04:38:59.471  INFO 40996 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.cancelInFlightRequests : [Producer clientId=cartservice-producer-1] Cancelled in-flight PRODUCE request with correlation id 5 due to node 1 being disconnected (elapsed time since creation: 32469ms, elapsed time since send: 32469ms, throttle time: 0ms, request timeout: 30000ms)
2025-01-21 04:38:59.473  WARN 40996 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.Sender.completeBatch : [Producer clientId=cartservice-producer-1] Got error produce response with correlation id 5 on topic-partition cart-service.checkout-0, retrying (2147483646 attempts left). Error: REQUEST_TIMED_OUT. Error Message: Disconnected from node 1 due to timeout
2025-01-21 04:39:32.641 DEBUG 40996 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:41:56.537  INFO 40996 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:41:56.541  INFO 40996 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:41:56.543  INFO 40996 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:41:56.548  INFO 40996 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:41:56.548  INFO 40996 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:41:56.548  INFO 40996 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:41:56.549  INFO 40996 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:41:56.549  INFO 40996 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:41:56.551  INFO 40996 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:41:56.553  INFO 40996 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:41:56.579  INFO 40996 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:41:58.399  INFO 41102 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:41:58.416  INFO 41102 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 41102 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:41:58.418 DEBUG 41102 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:41:58.418  INFO 41102 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:41:58.667  INFO 41102 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:41:58.690  INFO 41102 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 04:41:58.910  INFO 41102 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:41:58.915  INFO 41102 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:41:58.916  INFO 41102 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:41:58.916  INFO 41102 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:41:58.938  INFO 41102 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:41:58.938  INFO 41102 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 505 ms
2025-01-21 04:41:59.004  INFO 41102 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:41:59.028  INFO 41102 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:41:59.040  INFO 41102 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:41:59.136  INFO 41102 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:41:59.150  INFO 41102 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:41:59.310  INFO 41102 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@32dbca45
2025-01-21 04:41:59.310  INFO 41102 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:41:59.348  INFO 41102 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:41:59.857  INFO 41102 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:41:59.905  INFO 41102 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:42:00.096  WARN 41102 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:42:00.246  INFO 41102 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:42:00.251  INFO 41102 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:42:00.256  INFO 41102 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.964 seconds (process running for 2.361)
2025-01-21 04:42:12.253  INFO 41102 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:42:12.253  INFO 41102 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:42:12.254  INFO 41102 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:42:12.276 DEBUG 41102 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:42:12.346 DEBUG 41102 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:42:12.376  INFO 41102 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:42:12.412  INFO 41102 --- [nio-8084-exec-2] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:42:12.430  INFO 41102 --- [nio-8084-exec-2] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:42:12.437  INFO 41102 --- [nio-8084-exec-2] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:42:12.454  INFO 41102 --- [nio-8084-exec-2] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:42:12.454  INFO 41102 --- [nio-8084-exec-2] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:42:12.454  INFO 41102 --- [nio-8084-exec-2] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737414732453
2025-01-21 04:42:12.610  INFO 41102 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:42:12.611  INFO 41102 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3014 with epoch 0
2025-01-21 04:42:12.617 DEBUG 41102 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:43:55.283  INFO 41102 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:43:55.288  INFO 41102 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:43:55.293  INFO 41102 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:43:55.301  INFO 41102 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:43:55.301  INFO 41102 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:43:55.301  INFO 41102 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:43:55.301  INFO 41102 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:43:55.302  INFO 41102 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:43:55.303  INFO 41102 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:43:55.305  INFO 41102 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:43:55.324  INFO 41102 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:43:57.185  INFO 41152 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:43:57.203  INFO 41152 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 41152 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:43:57.204 DEBUG 41152 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:43:57.205  INFO 41152 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:43:57.450  INFO 41152 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:43:57.473  INFO 41152 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 04:43:57.712  INFO 41152 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:43:57.717  INFO 41152 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:43:57.718  INFO 41152 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:43:57.718  INFO 41152 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:43:57.740  INFO 41152 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:43:57.740  INFO 41152 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 521 ms
2025-01-21 04:43:57.810  INFO 41152 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:43:57.834  INFO 41152 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:43:57.846  INFO 41152 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:43:57.948  INFO 41152 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:43:57.962  INFO 41152 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:43:58.124  INFO 41152 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c788d08
2025-01-21 04:43:58.124  INFO 41152 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:43:58.165  INFO 41152 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:43:58.535  INFO 41152 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:43:58.574  INFO 41152 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:43:58.832  WARN 41152 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:43:58.987  INFO 41152 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:43:58.993  INFO 41152 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:43:58.997  INFO 41152 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.918 seconds (process running for 2.317)
2025-01-21 04:44:00.214  INFO 41152 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:44:00.214  INFO 41152 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:44:00.215  INFO 41152 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 0 ms
2025-01-21 04:44:00.239 DEBUG 41152 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:44:00.310  INFO 41152 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:44:03.565 DEBUG 41152 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 237, price: 12.74, quantity: 3
2025-01-21 04:44:03.602 DEBUG 41152 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:44:03.605  INFO 41152 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 237
2025-01-21 04:44:08.160 DEBUG 41152 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 984, price: 12.74, quantity: 3
2025-01-21 04:44:08.173 DEBUG 41152 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 4
2025-01-21 04:44:08.179  INFO 41152 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 4, product: 984
2025-01-21 04:44:14.626 DEBUG 41152 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 4
2025-01-21 04:44:14.634  INFO 41152 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 4
2025-01-21 04:44:49.542  INFO 41152 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:44:49.545  INFO 41152 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:44:49.548  INFO 41152 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:44:49.550  INFO 41152 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:44:49.573  INFO 41152 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:44:51.369  INFO 41177 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:44:51.386  INFO 41177 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 41177 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:44:51.388 DEBUG 41177 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:44:51.388  INFO 41177 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:44:51.628  INFO 41177 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:44:51.651  INFO 41177 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 19 ms. Found 2 JPA repository interfaces.
2025-01-21 04:44:51.861  INFO 41177 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:44:51.867  INFO 41177 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:44:51.867  INFO 41177 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:44:51.868  INFO 41177 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:44:51.891  INFO 41177 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:44:51.891  INFO 41177 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 489 ms
2025-01-21 04:44:51.955  INFO 41177 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:44:51.975  INFO 41177 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:44:51.987  INFO 41177 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:44:52.085  INFO 41177 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:44:52.098  INFO 41177 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:44:52.255  INFO 41177 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c788d08
2025-01-21 04:44:52.256  INFO 41177 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:44:52.294  INFO 41177 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:44:52.676  INFO 41177 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:44:52.718  INFO 41177 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:44:52.902  WARN 41177 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:44:53.054  INFO 41177 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:44:53.060  INFO 41177 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:44:53.064  INFO 41177 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.799 seconds (process running for 2.195)
2025-01-21 04:44:59.947  INFO 41177 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:44:59.947  INFO 41177 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:44:59.948  INFO 41177 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:44:59.971 DEBUG 41177 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:45:00.038 DEBUG 41177 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:45:00.056  INFO 41177 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:45:00.093  INFO 41177 --- [nio-8084-exec-1] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:45:00.110  INFO 41177 --- [nio-8084-exec-1] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:45:00.117  INFO 41177 --- [nio-8084-exec-1] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:45:00.135  INFO 41177 --- [nio-8084-exec-1] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:45:00.135  INFO 41177 --- [nio-8084-exec-1] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:45:00.136  INFO 41177 --- [nio-8084-exec-1] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737414900134
2025-01-21 04:45:00.289  INFO 41177 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:45:00.289  INFO 41177 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3015 with epoch 0
2025-01-21 04:45:00.296 DEBUG 41177 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:45:00.296 DEBUG 41177 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:45:04.001  INFO 41177 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:46:12.267  WARN 41177 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool.run : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m19s905ms).
2025-01-21 04:46:12.313  INFO 41177 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.handleTimedOutRequests : [Producer clientId=cartservice-producer-1] Disconnecting from node 1 due to request timeout.
2025-01-21 04:46:12.330  INFO 41177 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.cancelInFlightRequests : [Producer clientId=cartservice-producer-1] Cancelled in-flight PRODUCE request with correlation id 5 due to node 1 being disconnected (elapsed time since creation: 68306ms, elapsed time since send: 68306ms, throttle time: 0ms, request timeout: 30000ms)
2025-01-21 04:46:12.331  WARN 41177 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.Sender.completeBatch : [Producer clientId=cartservice-producer-1] Got error produce response with correlation id 5 on topic-partition cart-service.checkout-0, retrying (2147483646 attempts left). Error: REQUEST_TIMED_OUT. Error Message: Disconnected from node 1 due to timeout
2025-01-21 04:46:33.186 DEBUG 41177 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:47:34.875  INFO 41177 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:47:34.879  INFO 41177 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:47:34.881  INFO 41177 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:47:34.886  INFO 41177 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:47:34.886  INFO 41177 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:47:34.886  INFO 41177 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:47:34.886  INFO 41177 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:47:34.887  INFO 41177 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:47:34.888  INFO 41177 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:47:34.892  INFO 41177 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:47:34.915  INFO 41177 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:50:33.280  INFO 41292 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:50:33.297  INFO 41292 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 41292 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:50:33.298 DEBUG 41292 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:50:33.299  INFO 41292 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:50:33.527  INFO 41292 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:50:33.550  INFO 41292 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 20 ms. Found 2 JPA repository interfaces.
2025-01-21 04:50:33.755  INFO 41292 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:50:33.760  INFO 41292 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:50:33.761  INFO 41292 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:50:33.761  INFO 41292 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:50:33.782  INFO 41292 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:50:33.783  INFO 41292 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 470 ms
2025-01-21 04:50:33.953  INFO 41292 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:50:33.975  INFO 41292 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:50:33.988  INFO 41292 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:50:34.092  INFO 41292 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:50:34.104  INFO 41292 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:50:34.248  INFO 41292 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2110684a
2025-01-21 04:50:34.249  INFO 41292 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:50:34.287  INFO 41292 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:50:34.626  INFO 41292 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:50:34.671  INFO 41292 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:50:34.839  WARN 41292 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:50:34.981  INFO 41292 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:50:34.986  INFO 41292 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:50:34.990  INFO 41292 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.822 seconds (process running for 2.268)
2025-01-21 04:50:38.916  INFO 41292 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:50:38.917  INFO 41292 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:50:38.917  INFO 41292 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 0 ms
2025-01-21 04:50:38.996 DEBUG 41292 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Creating cart for user: 5
2025-01-21 04:50:38.997  INFO 41292 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Cart created for user: 5
2025-01-21 04:50:49.472 DEBUG 41292 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 5
2025-01-21 04:50:49.492  INFO 41292 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 5
2025-01-21 04:50:57.779 DEBUG 41292 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 5, product: 984, price: 12.74, quantity: 3
2025-01-21 04:50:57.791 DEBUG 41292 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 5
2025-01-21 04:50:57.793  INFO 41292 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 5, product: 984
2025-01-21 04:51:02.167 DEBUG 41292 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 5, product: 1267, price: 12.74, quantity: 3
2025-01-21 04:51:02.179 DEBUG 41292 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 5
2025-01-21 04:51:02.185  INFO 41292 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 5, product: 1267
2025-01-21 04:51:04.781 DEBUG 41292 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 5
2025-01-21 04:51:04.788  INFO 41292 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 5
2025-01-21 04:51:37.980 DEBUG 41292 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Updating item quantity for user: 5, item: 21, quantity: 45
2025-01-21 04:51:37.987 DEBUG 41292 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Searching for item in cart for user: 5, item: 21
2025-01-21 04:51:37.991 DEBUG 41292 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Update item quantity for user: 5, item: 21, quantity: 45
2025-01-21 04:51:38.013  INFO 41292 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Item quantity updated for user: 5, item: 21
2025-01-21 04:51:42.160 DEBUG 41292 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 5
2025-01-21 04:51:42.168  INFO 41292 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 5
2025-01-21 04:52:00.876 DEBUG 41292 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:52:00.882 DEBUG 41292 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:52:00.895  INFO 41292 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:52:00.932  INFO 41292 --- [nio-8084-exec-9] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:52:00.952  INFO 41292 --- [nio-8084-exec-9] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:52:00.961  INFO 41292 --- [nio-8084-exec-9] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:52:00.983  INFO 41292 --- [nio-8084-exec-9] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:52:00.983  INFO 41292 --- [nio-8084-exec-9] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:52:00.983  INFO 41292 --- [nio-8084-exec-9] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737415320982
2025-01-21 04:52:01.114  INFO 41292 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:52:01.114  INFO 41292 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3016 with epoch 0
2025-01-21 04:52:01.120 DEBUG 41292 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:52:01.120 DEBUG 41292 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:52:01.123  INFO 41292 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:52:01.125 DEBUG 41292 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:52:10.533 DEBUG 41292 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 5
2025-01-21 04:52:10.539  INFO 41292 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 5
2025-01-21 04:52:42.778  INFO 41292 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 04:52:42.780  INFO 41292 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 04:52:42.789  INFO 41292 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 04:52:42.794  INFO 41292 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 04:52:42.794  INFO 41292 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 04:52:42.794  INFO 41292 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 04:52:42.795  INFO 41292 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 04:52:42.795  INFO 41292 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 04:52:42.796  INFO 41292 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:52:42.797  INFO 41292 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 04:52:42.826  INFO 41292 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 04:52:44.656  INFO 41347 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 04:52:44.672  INFO 41347 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 41347 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 04:52:44.673 DEBUG 41347 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 04:52:44.673  INFO 41347 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 04:52:44.894  INFO 41347 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 04:52:44.915  INFO 41347 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2025-01-21 04:52:45.103  INFO 41347 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 04:52:45.108  INFO 41347 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 04:52:45.109  INFO 41347 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 04:52:45.109  INFO 41347 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 04:52:45.127  INFO 41347 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 04:52:45.128  INFO 41347 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 440 ms
2025-01-21 04:52:45.196  INFO 41347 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 04:52:45.216  INFO 41347 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 04:52:45.227  INFO 41347 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 04:52:45.320  INFO 41347 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 04:52:45.333  INFO 41347 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 04:52:45.481  INFO 41347 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@65b73689
2025-01-21 04:52:45.481  INFO 41347 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 04:52:45.519  INFO 41347 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 04:52:45.860  INFO 41347 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 04:52:45.897  INFO 41347 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 04:52:46.069  WARN 41347 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 04:52:46.211  INFO 41347 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 04:52:46.215  INFO 41347 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 04:52:46.219  INFO 41347 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.662 seconds (process running for 2.015)
2025-01-21 04:52:49.418  INFO 41347 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 04:52:49.419  INFO 41347 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 04:52:49.420  INFO 41347 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 04:52:49.444 DEBUG 41347 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 5
2025-01-21 04:52:49.507  INFO 41347 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 5
2025-01-21 04:52:53.536 DEBUG 41347 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 4
2025-01-21 04:52:53.543 DEBUG 41347 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 4
2025-01-21 04:52:53.579  INFO 41347 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:52:53.600  INFO 41347 --- [nio-8084-exec-3] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 04:52:53.629  INFO 41347 --- [nio-8084-exec-3] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 04:52:53.638  INFO 41347 --- [nio-8084-exec-3] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 04:52:53.658  INFO 41347 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 04:52:53.658  INFO 41347 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 04:52:53.658  INFO 41347 --- [nio-8084-exec-3] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737415373657
2025-01-21 04:52:53.791  INFO 41347 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 04:52:53.792  INFO 41347 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3017 with epoch 0
2025-01-21 04:52:53.799 DEBUG 41347 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 4
2025-01-21 04:52:53.799 DEBUG 41347 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:52:53.803  INFO 41347 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 4
2025-01-21 04:52:53.807 DEBUG 41347 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 4
2025-01-21 04:52:58.034 DEBUG 41347 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 5
2025-01-21 04:52:58.043  INFO 41347 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 5
2025-01-21 04:53:11.004 DEBUG 41347 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 5
2025-01-21 04:53:11.012  INFO 41347 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 5
2025-01-21 04:53:19.868 DEBUG 41347 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 5
2025-01-21 04:53:19.878 DEBUG 41347 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 5
2025-01-21 04:53:19.895  INFO 41347 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:53:19.897 DEBUG 41347 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 5
2025-01-21 04:53:19.897 DEBUG 41347 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 5
2025-01-21 04:53:19.906  INFO 41347 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 5
2025-01-21 04:53:19.934 DEBUG 41347 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 5
2025-01-21 04:53:24.203 DEBUG 41347 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 5
2025-01-21 04:53:24.209  INFO 41347 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 5
2025-01-21 04:53:34.548 DEBUG 41347 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 5
2025-01-21 04:53:34.555 DEBUG 41347 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 5
2025-01-21 04:53:34.583  INFO 41347 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:53:34.584 DEBUG 41347 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 5
2025-01-21 04:53:34.585 DEBUG 41347 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 5
2025-01-21 04:53:34.587  INFO 41347 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 5
2025-01-21 04:53:34.590 DEBUG 41347 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 5
2025-01-21 04:53:38.298 DEBUG 41347 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 5
2025-01-21 04:53:38.305 DEBUG 41347 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 5
2025-01-21 04:53:38.311  INFO 41347 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 04:53:38.312 DEBUG 41347 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 5
2025-01-21 04:53:38.312 DEBUG 41347 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 5
2025-01-21 04:53:38.318  INFO 41347 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 5
2025-01-21 04:53:38.325 DEBUG 41347 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 5
2025-01-21 04:53:52.526 DEBUG 41347 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 5
2025-01-21 04:53:52.534  INFO 41347 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 5
2025-01-21 05:01:53.832  INFO 41347 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.handleDisconnections : [Producer clientId=cartservice-producer-1] Node -1 disconnected.
2025-01-21 05:03:42.693  INFO 41347 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 05:03:42.698  INFO 41347 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 05:03:42.703  INFO 41347 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 05:03:42.709  INFO 41347 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 05:03:42.710  INFO 41347 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 05:03:42.710  INFO 41347 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 05:03:42.710  INFO 41347 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 05:03:42.712  INFO 41347 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 05:03:42.715  INFO 41347 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 05:03:42.718  INFO 41347 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 05:03:42.729  INFO 41347 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 14:38:50.892  INFO 48137 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 14:38:50.911  INFO 48137 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 48137 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 14:38:50.912 DEBUG 48137 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 14:38:50.912  INFO 48137 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 14:38:51.227  INFO 48137 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 14:38:51.249  INFO 48137 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2025-01-21 14:38:51.466  INFO 48137 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 14:38:51.472  INFO 48137 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 14:38:51.473  INFO 48137 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 14:38:51.473  INFO 48137 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 14:38:51.501  INFO 48137 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 14:38:51.501  INFO 48137 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 574 ms
2025-01-21 14:38:51.568  INFO 48137 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 14:38:51.592  INFO 48137 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 14:38:51.606  INFO 48137 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 14:38:51.708  INFO 48137 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 14:38:51.722  INFO 48137 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 14:38:51.896  INFO 48137 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2047adea
2025-01-21 14:38:51.896  INFO 48137 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 14:38:51.940  INFO 48137 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 14:38:52.301  INFO 48137 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 14:38:52.344  INFO 48137 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 14:38:52.522  WARN 48137 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 14:38:52.667  INFO 48137 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 14:38:52.672  INFO 48137 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 14:38:52.676  INFO 48137 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.903 seconds (process running for 2.344)
2025-01-21 14:39:01.117  INFO 48137 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 14:39:01.118  INFO 48137 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 14:39:01.119  INFO 48137 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 14:39:01.210 DEBUG 48137 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Creating cart for user: 6
2025-01-21 14:39:01.211  INFO 48137 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Cart created for user: 6
2025-01-21 14:39:01.246 ERROR 48137 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet].log : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "java.util.List.stream()" because the return value of "me.sridharpatil.ecom.cartservice.models.Cart.getItems()" is null] with root cause

java.lang.NullPointerException: Cannot invoke "java.util.List.stream()" because the return value of "me.sridharpatil.ecom.cartservice.models.Cart.getItems()" is null
	at me.sridharpatil.ecom.cartservice.controllers.dtos.CartResDto.of(CartResDto.java:25) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.controllers.CartController.createCart(CartController.java:28) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]

2025-01-21 14:40:01.268  INFO 48137 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 14:40:01.276  INFO 48137 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 14:40:01.283  INFO 48137 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 14:40:01.285  INFO 48137 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 14:40:01.293  INFO 48137 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 14:40:02.971  INFO 48179 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 14:40:02.987  INFO 48179 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 48179 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 14:40:02.988 DEBUG 48179 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 14:40:02.988  INFO 48179 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 14:40:03.214  INFO 48179 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 14:40:03.236  INFO 48179 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2025-01-21 14:40:03.430  INFO 48179 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 14:40:03.436  INFO 48179 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 14:40:03.437  INFO 48179 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 14:40:03.437  INFO 48179 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 14:40:03.453  INFO 48179 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 14:40:03.454  INFO 48179 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 452 ms
2025-01-21 14:40:03.525  INFO 48179 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 14:40:03.545  INFO 48179 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 14:40:03.558  INFO 48179 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 14:40:03.648  INFO 48179 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 14:40:03.660  INFO 48179 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 14:40:03.806  INFO 48179 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@61d011e
2025-01-21 14:40:03.806  INFO 48179 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 14:40:03.844  INFO 48179 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 14:40:04.187  INFO 48179 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 14:40:04.223  INFO 48179 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 14:40:04.396  WARN 48179 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 14:40:04.536  INFO 48179 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 14:40:04.541  INFO 48179 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 14:40:04.545  INFO 48179 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.675 seconds (process running for 2.03)
2025-01-21 14:40:08.851  INFO 48179 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 14:40:08.851  INFO 48179 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 14:40:08.853  INFO 48179 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 2 ms
2025-01-21 14:40:08.962 ERROR 48179 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Cart already exists for user: 6, skipping cart creation
2025-01-21 14:40:31.724 DEBUG 48179 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 6
2025-01-21 14:40:31.738  INFO 48179 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 6
2025-01-21 14:40:51.365 DEBUG 48179 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 6, product: 1267, price: 12.74, quantity: 3
2025-01-21 14:40:51.406 DEBUG 48179 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 6
2025-01-21 14:40:51.408  INFO 48179 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 6, product: 1267
2025-01-21 14:41:05.285 DEBUG 48179 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 6, product: 98278, price: 12.74, quantity: 23
2025-01-21 14:41:05.298 DEBUG 48179 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 6
2025-01-21 14:41:05.303  INFO 48179 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 6, product: 98278
2025-01-21 14:41:09.385 DEBUG 48179 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 6
2025-01-21 14:41:09.392  INFO 48179 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 6
2025-01-21 14:42:54.830  INFO 48179 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 14:42:54.834  INFO 48179 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 14:42:54.839  INFO 48179 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 14:42:54.840  INFO 48179 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 14:42:54.855  INFO 48179 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 14:42:56.664  INFO 48247 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 14:42:56.681  INFO 48247 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 48247 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 14:42:56.682 DEBUG 48247 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 14:42:56.682  INFO 48247 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 14:42:56.911  INFO 48247 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 14:42:56.932  INFO 48247 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2025-01-21 14:42:57.130  INFO 48247 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 14:42:57.135  INFO 48247 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 14:42:57.136  INFO 48247 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 14:42:57.136  INFO 48247 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 14:42:57.160  INFO 48247 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 14:42:57.161  INFO 48247 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 464 ms
2025-01-21 14:42:57.227  INFO 48247 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 14:42:57.248  INFO 48247 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 14:42:57.260  INFO 48247 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 14:42:57.377  INFO 48247 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 14:42:57.391  INFO 48247 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 14:42:57.538  INFO 48247 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@43b4ec0c
2025-01-21 14:42:57.539  INFO 48247 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 14:42:57.580  INFO 48247 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 14:42:57.940  INFO 48247 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 14:42:57.978  INFO 48247 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 14:42:58.143  WARN 48247 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 14:42:58.285  INFO 48247 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 14:42:58.290  INFO 48247 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 14:42:58.294  INFO 48247 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.742 seconds (process running for 2.104)
2025-01-21 14:43:00.689  INFO 48247 --- [nio-8084-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 14:43:00.689  INFO 48247 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 14:43:00.690  INFO 48247 --- [nio-8084-exec-1] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 14:43:00.713 DEBUG 48247 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 6
2025-01-21 14:43:00.779  INFO 48247 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 6
2025-01-21 14:43:14.154 DEBUG 48247 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Updating item quantity for user: 6, item: 23, quantity: 45
2025-01-21 14:43:14.160 DEBUG 48247 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Searching for item in cart for user: 6, item: 23
2025-01-21 14:43:14.163 DEBUG 48247 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Update item quantity for user: 6, item: 23, quantity: 45
2025-01-21 14:43:14.202  INFO 48247 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Item quantity updated for user: 6, item: 23
2025-01-21 14:43:20.747 DEBUG 48247 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 6
2025-01-21 14:43:20.754  INFO 48247 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 6
2025-01-21 14:43:37.763 DEBUG 48247 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 6, product: 98278, price: 12.74, quantity: 23
2025-01-21 14:43:37.790 DEBUG 48247 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 6
2025-01-21 14:43:37.792  INFO 48247 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 6, product: 98278
2025-01-21 14:43:42.012 DEBUG 48247 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 6, product: 98278, price: 12.74, quantity: 23
2025-01-21 14:43:42.024 DEBUG 48247 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if cart exists for user: 6
2025-01-21 14:43:42.031  INFO 48247 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 6, product: 98278
2025-01-21 14:43:52.797 DEBUG 48247 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Updating item quantity for user: 6, item: 23, quantity: 45
2025-01-21 14:43:52.803 DEBUG 48247 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Searching for item in cart for user: 6, item: 23
2025-01-21 14:43:52.807 DEBUG 48247 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Update item quantity for user: 6, item: 23, quantity: 45
2025-01-21 14:43:52.815  INFO 48247 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Item quantity updated for user: 6, item: 23
2025-01-21 14:43:54.366 DEBUG 48247 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Updating item quantity for user: 6, item: 23, quantity: 45
2025-01-21 14:43:54.372 DEBUG 48247 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Searching for item in cart for user: 6, item: 23
2025-01-21 14:43:54.376 DEBUG 48247 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Update item quantity for user: 6, item: 23, quantity: 45
2025-01-21 14:43:54.383  INFO 48247 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Item quantity updated for user: 6, item: 23
2025-01-21 14:43:56.787 DEBUG 48247 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 6
2025-01-21 14:43:56.794  INFO 48247 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 6
2025-01-21 14:50:39.160  INFO 48247 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 14:50:39.164  INFO 48247 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 14:50:39.166  INFO 48247 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 14:50:39.167  INFO 48247 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 14:50:39.197  INFO 48247 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 14:50:41.024  INFO 48440 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 14:50:41.041  INFO 48440 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 48440 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 14:50:41.042 DEBUG 48440 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 14:50:41.042  INFO 48440 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 14:50:41.271  INFO 48440 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 14:50:41.293  INFO 48440 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2025-01-21 14:50:41.486  INFO 48440 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 14:50:41.492  INFO 48440 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 14:50:41.492  INFO 48440 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 14:50:41.492  INFO 48440 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 14:50:41.513  INFO 48440 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 14:50:41.514  INFO 48440 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 458 ms
2025-01-21 14:50:41.579  INFO 48440 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 14:50:41.600  INFO 48440 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 14:50:41.611  INFO 48440 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 14:50:41.702  INFO 48440 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 14:50:41.714  INFO 48440 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 14:50:41.859  INFO 48440 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@c82ad22
2025-01-21 14:50:41.860  INFO 48440 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 14:50:41.897  INFO 48440 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 14:50:42.247  INFO 48440 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 14:50:42.286  INFO 48440 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 14:50:42.467  WARN 48440 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 14:50:42.611  INFO 48440 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 14:50:42.616  INFO 48440 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 14:50:42.620  INFO 48440 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.701 seconds (process running for 2.047)
2025-01-21 14:50:49.464  INFO 48440 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 14:50:49.465  INFO 48440 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 14:50:49.466  INFO 48440 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 0 ms
2025-01-21 14:50:49.517 DEBUG 48440 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if product already exists in cart for user: 6, product: 98278
2025-01-21 14:50:49.588 ERROR 48440 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.lambda$addItemToCart$1 : Product already exists in cart for user: 6, product: 98278
2025-01-21 14:50:49.591 ERROR 48440 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet].log : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Product already exists in cart] with root cause

java.lang.RuntimeException: Product already exists in cart
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.lambda$addItemToCart$1(CartServiceImpl.java:77) ~[classes/:?]
	at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[?:?]
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart(CartServiceImpl.java:75) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.controllers.CartController.addItemToCart(CartController.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]

2025-01-21 14:50:59.935 DEBUG 48440 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if product already exists in cart for user: 6, product: 98279
2025-01-21 14:50:59.947 DEBUG 48440 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 6, product: 98279, price: 12.74, quantity: 23
2025-01-21 14:51:00.005  INFO 48440 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 6, product: 98279
2025-01-21 14:51:02.378 DEBUG 48440 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if product already exists in cart for user: 6, product: 98279
2025-01-21 14:51:02.389 ERROR 48440 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.lambda$addItemToCart$1 : Product already exists in cart for user: 6, product: 98279
2025-01-21 14:51:02.390 ERROR 48440 --- [nio-8084-exec-5] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet].log : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Product already exists in cart] with root cause

java.lang.RuntimeException: Product already exists in cart
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.lambda$addItemToCart$1(CartServiceImpl.java:77) ~[classes/:?]
	at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[?:?]
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart(CartServiceImpl.java:75) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.controllers.CartController.addItemToCart(CartController.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]

2025-01-21 14:51:57.131 DEBUG 48440 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if product already exists in cart for user: 6, product: 98346
2025-01-21 14:51:57.143 DEBUG 48440 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 6, product: 98346, price: 12.74, quantity: 23
2025-01-21 14:51:57.153  INFO 48440 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 6, product: 98346
2025-01-21 14:52:00.586 DEBUG 48440 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 6
2025-01-21 14:52:00.592  INFO 48440 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 6
2025-01-21 14:52:09.994 DEBUG 48440 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Updating item quantity for user: 6, item: 23, quantity: 45
2025-01-21 14:52:10.001 DEBUG 48440 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Searching for item in cart for user: 6, item: 23
2025-01-21 14:52:10.006 DEBUG 48440 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Update item quantity for user: 6, item: 23, quantity: 45
2025-01-21 14:52:10.015  INFO 48440 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.updateItemQuantity : Item quantity updated for user: 6, item: 23
2025-01-21 14:52:16.078 DEBUG 48440 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 5
2025-01-21 14:52:16.086 DEBUG 48440 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 5
2025-01-21 14:52:16.092  INFO 48440 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 14:52:16.128  INFO 48440 --- [io-8084-exec-10] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 14:52:16.148  INFO 48440 --- [io-8084-exec-10] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 14:52:16.158  INFO 48440 --- [io-8084-exec-10] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 14:52:16.180  INFO 48440 --- [io-8084-exec-10] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 14:52:16.180  INFO 48440 --- [io-8084-exec-10] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 14:52:16.180  INFO 48440 --- [io-8084-exec-10] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737451336179
2025-01-21 14:52:16.333  INFO 48440 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 14:52:16.334  INFO 48440 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3018 with epoch 0
2025-01-21 14:52:16.340 DEBUG 48440 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 5
2025-01-21 14:52:16.341 DEBUG 48440 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 5
2025-01-21 14:52:16.344  INFO 48440 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 5
2025-01-21 14:52:16.352 DEBUG 48440 --- [io-8084-exec-10] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 5
2025-01-21 14:52:22.034 DEBUG 48440 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 6
2025-01-21 14:52:22.041 DEBUG 48440 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 6
2025-01-21 14:52:22.051  INFO 48440 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 14:52:22.055 DEBUG 48440 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 6
2025-01-21 14:52:22.055 DEBUG 48440 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 6
2025-01-21 14:52:22.062  INFO 48440 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 6
2025-01-21 14:52:22.082 DEBUG 48440 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 6
2025-01-21 14:52:25.928 DEBUG 48440 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 6
2025-01-21 14:52:25.934  INFO 48440 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 6
2025-01-21 14:53:12.719  INFO 48440 --- [ionShutdownHook] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.shutDownGracefully : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21 14:53:12.722  INFO 48440 --- [tomcat-shutdown] org.springframework.boot.web.embedded.tomcat.GracefulShutdown.doShutdown : Graceful shutdown complete
2025-01-21 14:53:12.726  INFO 48440 --- [ionShutdownHook] org.apache.kafka.clients.producer.KafkaProducer.close : [Producer clientId=cartservice-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-01-21 14:53:12.730  INFO 48440 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics scheduler closed
2025-01-21 14:53:12.730  INFO 48440 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-01-21 14:53:12.730  INFO 48440 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-01-21 14:53:12.730  INFO 48440 --- [ionShutdownHook] org.apache.kafka.common.metrics.Metrics.close : Metrics reporters closed
2025-01-21 14:53:12.730  INFO 48440 --- [ionShutdownHook] org.apache.kafka.common.utils.AppInfoParser.unregisterAppInfo : App info kafka.producer for cartservice-producer-1 unregistered
2025-01-21 14:53:12.732  INFO 48440 --- [ionShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 14:53:12.735  INFO 48440 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown initiated...
2025-01-21 14:53:12.754  INFO 48440 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource.close : HikariPool-1 - Shutdown completed.
2025-01-21 14:53:14.539  INFO 48489 --- [kground-preinit] org.hibernate.validator.internal.util.Version.<clinit> : HV000001: Hibernate Validator 8.0.2.Final
2025-01-21 14:53:14.555  INFO 48489 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Starting CartserviceApplication using Java 21.0.1 with PID 48489 (/Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice/target/classes started by sridharpatil in /Users/sridharpatil/Documents/Learning/ProjectModule/ecom/cartservice/cartservice)
2025-01-21 14:53:14.556 DEBUG 48489 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarting : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-21 14:53:14.557  INFO 48489 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStartupProfileInfo : No active profile set, falling back to 1 default profile: "default"
2025-01-21 14:53:14.793  INFO 48489 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21 14:53:14.814  INFO 48489 --- [           main] org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2025-01-21 14:53:15.011  INFO 48489 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize : Tomcat initialized with port 8084 (http)
2025-01-21 14:53:15.017  INFO 48489 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Initializing ProtocolHandler ["http-nio-8084"]
2025-01-21 14:53:15.018  INFO 48489 --- [           main] org.apache.catalina.core.StandardService.log : Starting service [Tomcat]
2025-01-21 14:53:15.018  INFO 48489 --- [           main] org.apache.catalina.core.StandardEngine.log : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21 14:53:15.035  INFO 48489 --- [           main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring embedded WebApplicationContext
2025-01-21 14:53:15.036  INFO 48489 --- [           main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext : Root WebApplicationContext: initialization completed in 464 ms
2025-01-21 14:53:15.099  INFO 48489 --- [           main] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21 14:53:15.119  INFO 48489 --- [           main] org.hibernate.Version.logVersion : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21 14:53:15.130  INFO 48489 --- [           main] org.hibernate.cache.internal.RegionFactoryInitiator.initiateService : HHH000026: Second-level cache disabled
2025-01-21 14:53:15.220  INFO 48489 --- [           main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo.addTransformer : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21 14:53:15.233  INFO 48489 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Starting...
2025-01-21 14:53:15.376  INFO 48489 --- [           main] com.zaxxer.hikari.pool.HikariPool.checkFailFast : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a6efe33
2025-01-21 14:53:15.377  INFO 48489 --- [           main] com.zaxxer.hikari.HikariDataSource.getConnection : HikariPool-1 - Start completed.
2025-01-21 14:53:15.415  INFO 48489 --- [           main] org.hibernate.orm.connections.pooling.initiateService : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.32
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21 14:53:15.760  INFO 48489 --- [           main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator.initiateService : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21 14:53:15.800  INFO 48489 --- [           main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21 14:53:15.984  WARN 48489 --- [           main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21 14:53:16.129  INFO 48489 --- [           main] org.apache.coyote.http11.Http11NioProtocol.log : Starting ProtocolHandler ["http-nio-8084"]
2025-01-21 14:53:16.134  INFO 48489 --- [           main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start : Tomcat started on port 8084 (http) with context path '/'
2025-01-21 14:53:16.138  INFO 48489 --- [           main] me.sridharpatil.ecom.cartservice.CartserviceApplication.logStarted : Started CartserviceApplication in 1.702 seconds (process running for 2.09)
2025-01-21 14:53:18.683  INFO 48489 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21 14:53:18.683  INFO 48489 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Initializing Servlet 'dispatcherServlet'
2025-01-21 14:53:18.684  INFO 48489 --- [nio-8084-exec-2] org.springframework.web.servlet.DispatcherServlet.initServletBean : Completed initialization in 1 ms
2025-01-21 14:53:18.705 DEBUG 48489 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 6
2025-01-21 14:53:18.774 DEBUG 48489 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 6
2025-01-21 14:53:18.806  INFO 48489 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 14:53:18.839  INFO 48489 --- [nio-8084-exec-2] org.apache.kafka.clients.producer.ProducerConfig.logAll : ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = cartservice-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2025-01-21 14:53:18.856  INFO 48489 --- [nio-8084-exec-2] org.apache.kafka.common.telemetry.internals.KafkaMetricsCollector.init : initializing Kafka metrics collector
2025-01-21 14:53:18.862  INFO 48489 --- [nio-8084-exec-2] org.apache.kafka.clients.producer.KafkaProducer.configureTransactionState : [Producer clientId=cartservice-producer-1] Instantiated an idempotent producer.
2025-01-21 14:53:18.880  INFO 48489 --- [nio-8084-exec-2] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka version: 3.8.1
2025-01-21 14:53:18.880  INFO 48489 --- [nio-8084-exec-2] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka commitId: 70d6ff42debf7e17
2025-01-21 14:53:18.880  INFO 48489 --- [nio-8084-exec-2] org.apache.kafka.common.utils.AppInfoParser.<init> : Kafka startTimeMs: 1737451398879
2025-01-21 14:53:19.021  INFO 48489 --- [vice-producer-1] org.apache.kafka.clients.Metadata.update : [Producer clientId=cartservice-producer-1] Cluster ID: 5L6g3nShT-eMCtK--X86sw
2025-01-21 14:53:19.022  INFO 48489 --- [vice-producer-1] org.apache.kafka.clients.producer.internals.TransactionManager.setProducerIdAndEpoch : [Producer clientId=cartservice-producer-1] ProducerId set to 3019 with epoch 0
2025-01-21 14:53:19.028 DEBUG 48489 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 6
2025-01-21 14:53:19.028 DEBUG 48489 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 6
2025-01-21 14:53:19.031  INFO 48489 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 6
2025-01-21 14:53:19.036 DEBUG 48489 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 6
2025-01-21 14:53:21.780 DEBUG 48489 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 6
2025-01-21 14:53:21.788  INFO 48489 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 6
2025-01-21 14:53:40.566 DEBUG 48489 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Creating cart for user: 7
2025-01-21 14:53:40.566  INFO 48489 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Cart created for user: 7
2025-01-21 14:53:51.730 DEBUG 48489 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 7
2025-01-21 14:53:51.737  INFO 48489 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 7
2025-01-21 14:54:07.904 DEBUG 48489 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if product already exists in cart for user: 7, product: 98346
2025-01-21 14:54:07.910 DEBUG 48489 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 7, product: 98346, price: 12.74, quantity: 8
2025-01-21 14:54:07.918  INFO 48489 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 7, product: 98346
2025-01-21 14:54:18.471 DEBUG 48489 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if product already exists in cart for user: 7, product: 774
2025-01-21 14:54:18.484 DEBUG 48489 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 7, product: 774, price: 12.74, quantity: 8
2025-01-21 14:54:18.496  INFO 48489 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 7, product: 774
2025-01-21 14:54:25.374 DEBUG 48489 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 7
2025-01-21 14:54:25.381  INFO 48489 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 7
2025-01-21 14:55:44.835 DEBUG 48489 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 7
2025-01-21 14:55:44.844  INFO 48489 --- [nio-8084-exec-1] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 7
2025-01-21 14:55:56.045 DEBUG 48489 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if product already exists in cart for user: 7, product: 774
2025-01-21 14:55:56.055 ERROR 48489 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.lambda$addItemToCart$1 : Product already exists in cart for user: 7, product: 774
2025-01-21 14:55:56.063 ERROR 48489 --- [nio-8084-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet].log : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Product already exists in cart] with root cause

java.lang.RuntimeException: Product already exists in cart
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.lambda$addItemToCart$1(CartServiceImpl.java:77) ~[classes/:?]
	at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[?:?]
	at me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart(CartServiceImpl.java:75) ~[classes/:?]
	at me.sridharpatil.ecom.cartservice.controllers.CartController.addItemToCart(CartController.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]

2025-01-21 14:56:03.338 DEBUG 48489 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Checking if product already exists in cart for user: 7, product: 226
2025-01-21 14:56:03.348 DEBUG 48489 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 7, product: 226, price: 1.0, quantity: 1
2025-01-21 14:56:03.363  INFO 48489 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.addItemToCart : Adding item to cart for user: 7, product: 226
2025-01-21 14:56:06.805 DEBUG 48489 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 7
2025-01-21 14:56:06.814  INFO 48489 --- [nio-8084-exec-5] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 7
2025-01-21 14:56:14.198 DEBUG 48489 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 6
2025-01-21 14:56:14.205 DEBUG 48489 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 6
2025-01-21 14:56:14.213  INFO 48489 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 14:56:14.214 DEBUG 48489 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 6
2025-01-21 14:56:14.214 DEBUG 48489 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 6
2025-01-21 14:56:14.219  INFO 48489 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 6
2025-01-21 14:56:14.227 DEBUG 48489 --- [nio-8084-exec-6] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 6
2025-01-21 14:56:16.954 DEBUG 48489 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 7
2025-01-21 14:56:16.960  INFO 48489 --- [nio-8084-exec-7] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 7
2025-01-21 14:56:26.163 DEBUG 48489 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Checking out cart for user: 7
2025-01-21 14:56:26.174 DEBUG 48489 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Updating total price for cart for user: 7
2025-01-21 14:56:26.185  INFO 48489 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Producing message to kafka topic: cart-service.checkout
2025-01-21 14:56:26.188 DEBUG 48489 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.checkout : Clearing cart for user: 7
2025-01-21 14:56:26.188 DEBUG 48489 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 7
2025-01-21 14:56:26.193  INFO 48489 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Clearing cart for user: 7
2025-01-21 14:56:26.212 DEBUG 48489 --- [nio-8084-exec-8] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.clearCart : Cart cleared for user: 7
2025-01-21 14:56:28.931 DEBUG 48489 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Getting cart for user: 7
2025-01-21 14:56:28.939  INFO 48489 --- [nio-8084-exec-9] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.getCart : Cart found for user: 7
2025-01-21 15:02:19.002  INFO 48489 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.handleDisconnections : [Producer clientId=cartservice-producer-1] Node -1 disconnected.
2025-01-21 15:03:19.372 ERROR 48489 --- [nio-8084-exec-2] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Cart already exists for user: 7, skipping cart creation
2025-01-21 15:03:23.164 ERROR 48489 --- [nio-8084-exec-3] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Cart already exists for user: 7, skipping cart creation
2025-01-21 15:03:36.325 ERROR 48489 --- [nio-8084-exec-4] me.sridharpatil.ecom.cartservice.services.CartServiceImpl.createCart : Cart already exists for user: 7, skipping cart creation
2025-01-21 15:12:49.029  INFO 48489 --- [vice-producer-1] org.apache.kafka.clients.NetworkClient.handleDisconnections : [Producer clientId=cartservice-producer-1] Node -1 disconnected.
